{
	"version": "https://jsonfeed.org/version/1",
	"title": "Becky Sweger",
	"icon": "https://micro.blog/bsweger/avatar.jpg",
	"home_page_url": "https://beckysweger.com/",
	"feed_url": "https://beckysweger.com/feed.json",
	"items": [
		
			{
				"id": "http://bsweger.micro.blog/2026/01/13/imperfect-figures.html",
				"title": "Imperfect figures",
				"content_html": "<p><img src=\"https://beckysweger.com/uploads/2026/pasted-image-20260113225007.png\" alt=\"Pasted image 20260113225007.png\"></p>\n<p>I recently finished working my way through <a href=\"https://bookshop.org/p/books/figure-drawing-methods-for-artists-over-130-methods-for-sketching-drawing-and-artistic-discovery-peter-boerboom/b45ea412e673846a?ean=9781631594366&amp;next=t\"><em>Figure Drawing Methods for Artists: Over 130 Methods for Sketching, Drawing, and Artistic Discovery</em></a></p>\n<p>I bought the book on a whim, not knowing what to expect. It doesn&rsquo;t have instructions for drawing detailed hands or facial expressions. Instead, <em>Figure Drawing Methods for Artists</em> provides prompts that focus on the essence of a form. Is it active or at rest? How do small details like posture and eyebrows convey mood? It turns out that a few imperfect and quickly rendered lines can convey more than you&rsquo;d think.</p>\n<p>Sometimes I pick a random figure in my camera roll and draw it as quickly as possible, maybe a minute. My normal inclination is to obsess over details prematurely, so the time limit is key for retraining the old brain to focus on simplicity.</p>\n<p><img src=\"https://beckysweger.com/uploads/2026/pasted-image-20260113225135.png\" alt=\"Pasted image 20260113225135.png\"></p>\n",
				"content_text": "\n\n![Pasted image 20260113225007.png](https://beckysweger.com/uploads/2026/pasted-image-20260113225007.png)\n\nI recently finished working my way through [*Figure Drawing Methods for Artists: Over 130 Methods for Sketching, Drawing, and Artistic Discovery*](https://bookshop.org/p/books/figure-drawing-methods-for-artists-over-130-methods-for-sketching-drawing-and-artistic-discovery-peter-boerboom/b45ea412e673846a?ean=9781631594366&next=t)\n\nI bought the book on a whim, not knowing what to expect. It doesn't have instructions for drawing detailed hands or facial expressions. Instead, *Figure Drawing Methods for Artists* provides prompts that focus on the essence of a form. Is it active or at rest? How do small details like posture and eyebrows convey mood? It turns out that a few imperfect and quickly rendered lines can convey more than you'd think.\n\nSometimes I pick a random figure in my camera roll and draw it as quickly as possible, maybe a minute. My normal inclination is to obsess over details prematurely, so the time limit is key for retraining the old brain to focus on simplicity.\n\n![Pasted image 20260113225135.png](https://beckysweger.com/uploads/2026/pasted-image-20260113225135.png)\n",
				"date_published": "2026-01-13T22:55:44-05:00",
				"url": "https://beckysweger.com/2026/01/13/imperfect-figures.html",
				"tags": ["right brain"]
			},
			{
				"id": "http://bsweger.micro.blog/2026/01/08/checking-your-rizz-teaching-your.html",
				"title": "Checking your rizz, teaching your kids to vibe code",
				"content_html": "<p>There was a two hour school delay this morning, and we used the time to vibe code a <a href=\"https://bsweger.github.io/rizzy/\">Rizz Calculator</a> that the sixth grader can use to troll his friend Ryan:\n<img src=\"https://beckysweger.com/uploads/2026/pasted-image-20260107193143.png\" alt=\"Pasted image 20260107193143.png\">​\nHe provided the requirements, and I fed them to Claude Code, telling it to use the <a href=\"https://designsystem.digital.gov\">open-source US Web Design System</a> for the calculator&rsquo;s look and feel (my standard hack for making demos sites that look decent). We had it up on GitHub pages in less than 20 minutes.</p>\n<p>Everyone gets a random score between 0 and 8,000, except for:</p>\n<ul>\n<li><a href=\"https://github.com/bsweger/rizzy/commit/1c45dcc72ac82b34008d12b6b98eeb6a8fde61ec\">Ryan (the friend being trolled) gets a score between -8000 and -1</a></li>\n<li><a href=\"https://github.com/bsweger/rizzy/commit/15b504f36d325d8f0424de11b773624a1eefc39b\">Mom/Becky gets a score greater than 10,000</a> (I snuck that in later)</li>\n</ul>\n<p>Poor Ryan:</p>\n<p><img src=\"https://beckysweger.com/uploads/2026/pasted-image-20260107194917.png\" alt=\"Pasted image 20260107194917.png\"></p>\n",
				"content_text": "There was a two hour school delay this morning, and we used the time to vibe code a [Rizz Calculator](https://bsweger.github.io/rizzy/) that the sixth grader can use to troll his friend Ryan:\n![Pasted image 20260107193143.png](https://beckysweger.com/uploads/2026/pasted-image-20260107193143.png)​\nHe provided the requirements, and I fed them to Claude Code, telling it to use the [open-source US Web Design System](https://designsystem.digital.gov) for the calculator's look and feel (my standard hack for making demos sites that look decent). We had it up on GitHub pages in less than 20 minutes.\n\nEveryone gets a random score between 0 and 8,000, except for:\n- [Ryan (the friend being trolled) gets a score between -8000 and -1](https://github.com/bsweger/rizzy/commit/1c45dcc72ac82b34008d12b6b98eeb6a8fde61ec)\n- [Mom/Becky gets a score greater than 10,000](https://github.com/bsweger/rizzy/commit/15b504f36d325d8f0424de11b773624a1eefc39b) (I snuck that in later)\n\nPoor Ryan:\n\n![Pasted image 20260107194917.png](https://beckysweger.com/uploads/2026/pasted-image-20260107194917.png)\n",
				"date_published": "2026-01-08T12:22:45-05:00",
				"url": "https://beckysweger.com/2026/01/08/checking-your-rizz-teaching-your.html",
				"tags": ["stories","tech"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/12/23/pyprefab-still-chipping-away.html",
				"title": "pyprefab, still chipping away",
				"content_html": "<p>I&rsquo;m still chipping away at <a href=\"https://bsweger.github.io/pyprefab/\">pyprefab</a>, a little CLI that spits out boilerplate code for new Python packages. It has two stars on GitHub!</p>\n<p>Could this app have been a cookie cutter template? Probably? But then I&rsquo;d miss the fun of noodling around and staying versed in the art of packaging and publishing to PyPI. And although I frequently use pyprefab to spin up ad-hoc projects, it&rsquo;s the noodling around that&rsquo;s been the most valuable exercise.</p>\n<p>Treating a code base like an actual project that people use and contribute to⎻even when that&rsquo;s not true⎻is great practice. Especially for the dev environment tooling, since my current job involves some scripts but not application development per se.</p>\n<p>Some of the internal improvements over the last few months:</p>\n<ul>\n<li>Made the logging level configurable</li>\n<li>Added a <a href=\"https://blog.yossarian.net/2025/11/21/We-should-all-be-using-dependency-cooldowns\">cooldown period for dependency updates</a></li>\n<li>Added <a href=\"https://nox.thea.codes/en/stable/\">nox</a> for testing in multiple Python versions</li>\n<li>Switched <code>.python-version</code> to 3.14 because the REPL improvements alone are worth it</li>\n<li>Improved GitHub workflow security</li>\n</ul>\n<p>Most of the above changes aren&rsquo;t too relevant for a small solo project, but keeping pyprefab in good shape not only makes it reliable, it makes the repo a good place to mine for configs, patterns, and incantations to use in other work.</p>\n",
				"content_text": "I'm still chipping away at [pyprefab](https://bsweger.github.io/pyprefab/), a little CLI that spits out boilerplate code for new Python packages. It has two stars on GitHub!\n\nCould this app have been a cookie cutter template? Probably? But then I'd miss the fun of noodling around and staying versed in the art of packaging and publishing to PyPI. And although I frequently use pyprefab to spin up ad-hoc projects, it's the noodling around that's been the most valuable exercise.\n\nTreating a code base like an actual project that people use and contribute to⎻even when that's not true⎻is great practice. Especially for the dev environment tooling, since my current job involves some scripts but not application development per se.\n\nSome of the internal improvements over the last few months:\n\n- Made the logging level configurable\n- Added a [cooldown period for dependency updates](https://blog.yossarian.net/2025/11/21/We-should-all-be-using-dependency-cooldowns)\n- Added [nox](https://nox.thea.codes/en/stable/) for testing in multiple Python versions\n- Switched `.python-version` to 3.14 because the REPL improvements alone are worth it\n- Improved GitHub workflow security\n\nMost of the above changes aren't too relevant for a small solo project, but keeping pyprefab in good shape not only makes it reliable, it makes the repo a good place to mine for configs, patterns, and incantations to use in other work.\n",
				"date_published": "2025-12-23T22:39:34-05:00",
				"url": "https://beckysweger.com/2025/12/23/pyprefab-still-chipping-away.html",
				"tags": ["tech","python","pyprefab"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/06/10/irs-direct-file-adr-highlights.html",
				"title": "IRS Direct File ADR Highlights",
				"content_html": "<p>The <a href=\"https://github.com/IRS-Public/direct-file\">newly-released source code</a> for <a href=\"https://directfile.irs.gov\">IRS Direct File</a> is a truly important artifact for:</p>\n<ul>\n<li>anyone who has tried to express the U.S. tax code programmatically</li>\n<li>anyone interested in how teams make technical decisions.</li>\n</ul>\n<p>The former group should check out the <a href=\"https://github.com/IRS-Public/direct-file/blob/main/docs/engineering/tax-flow/Tax_Code_to_Factgraph.pdf\">Fact Graph</a>, which deserves its own post (IRS DAG, anyone?).</p>\n<p>For the latter, the repo&rsquo;s <a href=\"https://github.com/IRS-Public/direct-file/tree/main/docs\">docs directory</a> has all kinds of rare treats. If you&rsquo;ve ever worked in government, you know how hard it is to publish <em>anything</em>, let alone something that describes your thinking or lessons learned. Much respect to the Direct File team for including artifacts about their research and decisions.</p>\n<p>The themes of the project&rsquo;s <a href=\"https://github.com/IRS-Public/direct-file/tree/main/docs/adr\">architectural decision records</a> (ADRs) are pragmatism and simplicity. Which isn&rsquo;t to say that Direct File is simple. My impression is that the team rightly chose to spend more time on unsolved problems (<em>e.g.</em>, representing the tax code as a graph) and less time on solved problems (databases).</p>\n<p>These ADRs were some of my highlights, but they&rsquo;re all worth reading.</p>\n<h3 id=\"on-simple-databaseshttpsgithubcomirs-publicdirect-fileblobmaindocsadradr_user_supplied_infomd\">On simple <a href=\"https://github.com/IRS-Public/direct-file/blob/main/docs/adr/adr_user_supplied_info.md\">databases</a></h3>\n<blockquote>\n<p>The data we are planning to store is not so large as to cause a problem for any common RDBMS provider. There won&rsquo;t be any particular slowdown or read issues associated with reading the data out of the database.</p>\n</blockquote>\n<blockquote>\n<p>We can architect around having the database be a single point of failure in our system&hellip; If our database system does go completely down, our system will go down as well. Introducing another system doesn&rsquo;t solve that problem, and it in fact compounds the problem.</p>\n</blockquote>\n<p><strong>Spoiler:</strong> They went with Postgres</p>\n<h3 id=\"on-choosing-programming-languageshttpsgithubcomirs-publicdirect-fileblobmaindocsadradr-languagemd\">On <a href=\"https://github.com/IRS-Public/direct-file/blob/main/docs/adr/adr-language.md\">choosing programming languages</a></h3>\n<p>I confess to pouting a bit after realizing that DIrect File is Java-heavy, which is why I really appreciated this ADR.</p>\n<p>In addition to noting that the IRS is already a Java shop, the document lists a number of other <a href=\"https://github.com/IRS-Public/direct-file/blob/main/docs/adr/adr-language.md#technical-questions\">technical considerations</a>, many of which aren&rsquo;t obvious to someone without tax domain experience. For example, Direct File needs a language that works well with WSDL/SOAP because that&rsquo;s the basis of the electronic filing system it integrates with (<a href=\"https://www.irs.gov/e-file-providers/modernized-e-file-program-information\">IRS Modernized e-File system</a>).</p>\n<p>There&rsquo;s also a lot of Scala in Direct File, an unexpected choice for government. However, Scala has strong support for graph concepts and also runs on the JVM:</p>\n<blockquote>\n<p>All of the support systems are already in place within the IRS to update and manage Java systems. Except for the code, our systems will appear no different. They will use common Java libraries, common java tools, and require the same sorts of maintenance.</p>\n</blockquote>\n<p>Regarding Python/Node/Ruby, the ADR is tough but fair:</p>\n<blockquote>\n<p>we don&rsquo;t want to have to go through open source package management nightmares in a production application</p>\n</blockquote>\n<h3 id=\"on-deciding-against-microservices-for-the-data-import-systemhttpsgithubcomirs-publicdirect-fileblobmaindocsadrdata-import-systemmd\">On <a href=\"https://github.com/IRS-Public/direct-file/blob/main/docs/adr/data-import-system.md\">deciding against microservices for the data import system</a></h3>\n<blockquote>\n<p>Philosophically this works, but it adds a lot of failure points for very little gain at our current scale and set up</p>\n</blockquote>\n<p>Also:</p>\n<blockquote>\n<p>I would like to hear a solid reason why breaking this into multiple applications is worthwhile.</p>\n</blockquote>\n<p>Shout out to the old <em>Software Architecture: The Hard Parts</em> book club at Trello!</p>\n",
				"content_text": "The [newly-released source code](https://github.com/IRS-Public/direct-file) for [IRS Direct File](https://directfile.irs.gov) is a truly important artifact for:\n\n* anyone who has tried to express the U.S. tax code programmatically\n* anyone interested in how teams make technical decisions.\n\nThe former group should check out the [Fact Graph](https://github.com/IRS-Public/direct-file/blob/main/docs/engineering/tax-flow/Tax_Code_to_Factgraph.pdf), which deserves its own post (IRS DAG, anyone?). \n\nFor the latter, the repo's [docs directory](https://github.com/IRS-Public/direct-file/tree/main/docs) has all kinds of rare treats. If you've ever worked in government, you know how hard it is to publish *anything*, let alone something that describes your thinking or lessons learned. Much respect to the Direct File team for including artifacts about their research and decisions.\n\nThe themes of the project's [architectural decision records](https://github.com/IRS-Public/direct-file/tree/main/docs/adr) (ADRs) are pragmatism and simplicity. Which isn't to say that Direct File is simple. My impression is that the team rightly chose to spend more time on unsolved problems (*e.g.*, representing the tax code as a graph) and less time on solved problems (databases).\n\nThese ADRs were some of my highlights, but they're all worth reading.\n### On simple [databases](https://github.com/IRS-Public/direct-file/blob/main/docs/adr/adr_user_supplied_info.md)\n\n> The data we are planning to store is not so large as to cause a problem for any common RDBMS provider. There won't be any particular slowdown or read issues associated with reading the data out of the database.\n\n>  We can architect around having the database be a single point of failure in our system... If our database system does go completely down, our system will go down as well. Introducing another system doesn't solve that problem, and it in fact compounds the problem.\n\n**Spoiler:** They went with Postgres\n\n### On [choosing programming languages](https://github.com/IRS-Public/direct-file/blob/main/docs/adr/adr-language.md)\n\nI confess to pouting a bit after realizing that DIrect File is Java-heavy, which is why I really appreciated this ADR.\n\nIn addition to noting that the IRS is already a Java shop, the document lists a number of other [technical considerations](https://github.com/IRS-Public/direct-file/blob/main/docs/adr/adr-language.md#technical-questions), many of which aren't obvious to someone without tax domain experience. For example, Direct File needs a language that works well with WSDL/SOAP because that's the basis of the electronic filing system it integrates with ([IRS Modernized e-File system](https://www.irs.gov/e-file-providers/modernized-e-file-program-information)).\n\nThere's also a lot of Scala in Direct File, an unexpected choice for government. However, Scala has strong support for graph concepts and also runs on the JVM:\n\n> All of the support systems are already in place within the IRS to update and manage Java systems. Except for the code, our systems will appear no different. They will use common Java libraries, common java tools, and require the same sorts of maintenance.\n\nRegarding Python/Node/Ruby, the ADR is tough but fair:\n\n> we don't want to have to go through open source package management nightmares in a production application\n\n### On [deciding against microservices for the data import system](https://github.com/IRS-Public/direct-file/blob/main/docs/adr/data-import-system.md)\n\n> Philosophically this works, but it adds a lot of failure points for very little gain at our current scale and set up\n\nAlso:\n\n> I would like to hear a solid reason why breaking this into multiple applications is worthwhile.\n\nShout out to the old *Software Architecture: The Hard Parts* book club at Trello!\n",
				"date_published": "2025-06-10T22:55:21-05:00",
				"url": "https://beckysweger.com/2025/06/10/irs-direct-file-adr-highlights.html",
				"tags": ["tech","data"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/06/05/quoting-chris-given-who-says.html",
				"title": "Quoting Chris Given, who says goodbye to IRS direct file",
				"content_html": "<p>Really enjoyed this <a href=\"https://chrisgiven.com/2025/06/saying-goodbye/\">post from Chris Given</a> about the history of the IRS <a href=\"https://home.treasury.gov/policy-issues/inflation-reduction-act/irs-direct-file-service\">Direct File service</a>, and a lot of it matches my own experience on the 2015-2017 era <a href=\"https://www.usaspending.gov/\">USAspending.gov</a> project. Especially the part about assembling the team, which of course is the most important aspect of any large and &ldquo;doomed to fail&rdquo; undertaking.</p>\n<p>Nothing but admiration for the Direct File team, who came back from the dead several times to prove‒once again‒that the government can deliver great software.</p>\n<p>Thanks for showing how it&rsquo;s done, and thanks for the wise words:</p>\n<blockquote>\n<p>whatever you do, don’t try to express the logic of the Internal Revenue Code as YAML</p>\n</blockquote>\n",
				"content_text": "Really enjoyed this [post from Chris Given](https://chrisgiven.com/2025/06/saying-goodbye/) about the history of the IRS [Direct File service](https://home.treasury.gov/policy-issues/inflation-reduction-act/irs-direct-file-service), and a lot of it matches my own experience on the 2015-2017 era [USAspending.gov](https://www.usaspending.gov/) project. Especially the part about assembling the team, which of course is the most important aspect of any large and \"doomed to fail\" undertaking.\n\nNothing but admiration for the Direct File team, who came back from the dead several times to prove‒once again‒that the government can deliver great software.\n\nThanks for showing how it's done, and thanks for the wise words:\n\n> whatever you do, don’t try to express the logic of the Internal Revenue Code as YAML\n\n",
				"date_published": "2025-06-05T22:20:19-05:00",
				"url": "https://beckysweger.com/2025/06/05/quoting-chris-given-who-says.html",
				"tags": ["stories","data"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/05/12/small-teams-and-minimum-viable.html",
				"title": "Small teams and minimum viable security",
				"content_html": "<p>Much has been written about GitHub&rsquo;s enshittification and problematic predominance. But from a strictly practical perspective, GitHub remains an important tool for small, open-source research teams. All the code and people are there, and the cost of switching is high.</p>\n<p>During the past year, I&rsquo;ve also discovered that GitHub provides access to security tooling that would normally be out of reach for this kind of team. Small groups with limited software engineering bandwidth don&rsquo;t have time to configure and maintain things like automated code and dependency scanning. But they <em>can</em> go to their GitHub organization&rsquo;s security settings and turn on <a href=\"https://docs.github.com/en/code-security/securing-your-organization/enabling-security-features-in-your-organization/applying-the-github-recommended-security-configuration-in-your-organization#about-the-github-recommended-security-configuration\">GitHub&rsquo;s recommended security settings</a>.</p>\n<p><a href=\"https://docs.github.com/en/code-security/securing-your-organization/enabling-security-features-in-your-organization/applying-the-github-recommended-security-configuration-in-your-organization\">Push a few buttons</a>, and once a week your repos are scanned for potential code vulnerabilities and vulnerable dependencies. When a repo needs attention, a notification appears in its <em>Security</em> tag. That&rsquo;s it!</p>\n<p>For example, GitHub flagged this example workflow file as vulnerable:</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-yml\" data-lang=\"yml\"><span style=\"color:#f92672\">name</span>: <span style=\"color:#ae81ff\">run-code-checks</span>\n<span style=\"color:#f92672\">on</span>: [<span style=\"color:#ae81ff\">push]</span>\n<span style=\"color:#f92672\">jobs</span>:\n  <span style=\"color:#f92672\">run-checks</span>:\n    <span style=\"color:#f92672\">runs-on</span>: <span style=\"color:#ae81ff\">ubuntu-latest</span>\n    <span style=\"color:#f92672\">steps</span>:\n      - <span style=\"color:#f92672\">uses</span>: <span style=\"color:#ae81ff\">actions/checkout@v4</span>\n      - <span style=\"color:#f92672\">name</span>: <span style=\"color:#ae81ff\">Set up Python</span>\n        <span style=\"color:#f92672\">uses</span>: <span style=\"color:#ae81ff\">actions/setup-python@v5</span>\n        <span style=\"color:#f92672\">with</span>:\n            <span style=\"color:#f92672\">cache</span>: <span style=\"color:#e6db74\">&#39;pip&#39;</span>\n      - <span style=\"color:#f92672\">name</span>: <span style=\"color:#ae81ff\">install dependencies</span>\n        <span style=\"color:#f92672\">run</span>: |<span style=\"color:#e6db74\">\n</span><span style=\"color:#e6db74\">          python -m pip install --upgrade pip\n</span><span style=\"color:#e6db74\">          pip install -r requirements/requirements.txt</span>          \n      - <span style=\"color:#f92672\">name</span>: <span style=\"color:#ae81ff\">lint</span>\n        <span style=\"color:#f92672\">run</span>: <span style=\"color:#ae81ff\">ruff check .</span>\n\n<span style=\"color:#f92672\">Actions job or workflow does not limit the permissions of the GITHUB_TOKEN. Consider setting an explicit permissions block, using the following as a minimal starting point</span>: {<span style=\"color:#f92672\">contents</span>: <span style=\"color:#ae81ff\">read}</span>\n</code></pre></div><p>The alert then goes on to provide a full description of the problem and recommends a fix.</p>\n<p>Unobstrusive, helpful, and actionable. It also prompted me to read up on <a href=\"https://docs.github.com/en/actions/security-for-github-actions/security-guides/security-hardening-for-github-actions\">best practices for securing GitHub actions\n</a> and incorporate them into the team&rsquo;s development and code review standards.</p>\n<p>You can go above and beyond the baseline security configuration (for example, setting up automated PRs for outdated dependencies<sup id=\"fnref:1\"><a href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\">1</a></sup>), but the built-in recommendations are a good place to start if the alternative is doing nothing⎼especially if you&rsquo;re writing software for external users.</p>\n<p>Kinda like <a href=\"https://beckysweger.com/2025/02/25/remember-the-club-that-thing.html\">putting a club on your car</a> back in the day.</p>\n<section class=\"footnotes\" role=\"doc-endnotes\">\n<hr>\n<ol>\n<li id=\"fn:1\" role=\"doc-endnote\">\n<p>Which caused me to lose my mind, a story for another day&#160;<a href=\"#fnref:1\" class=\"footnote-backref\" role=\"doc-backlink\">&#x21a9;&#xfe0e;</a></p>\n</li>\n</ol>\n</section>\n",
				"content_text": "Much has been written about GitHub's enshittification and problematic predominance. But from a strictly practical perspective, GitHub remains an important tool for small, open-source research teams. All the code and people are there, and the cost of switching is high.\n\nDuring the past year, I've also discovered that GitHub provides access to security tooling that would normally be out of reach for this kind of team. Small groups with limited software engineering bandwidth don't have time to configure and maintain things like automated code and dependency scanning. But they *can* go to their GitHub organization's security settings and turn on [GitHub's recommended security settings](https://docs.github.com/en/code-security/securing-your-organization/enabling-security-features-in-your-organization/applying-the-github-recommended-security-configuration-in-your-organization#about-the-github-recommended-security-configuration).\n\n[Push a few buttons](https://docs.github.com/en/code-security/securing-your-organization/enabling-security-features-in-your-organization/applying-the-github-recommended-security-configuration-in-your-organization), and once a week your repos are scanned for potential code vulnerabilities and vulnerable dependencies. When a repo needs attention, a notification appears in its *Security* tag. That's it!\n\nFor example, GitHub flagged this example workflow file as vulnerable:\n\n```yml\nname: run-code-checks\non: [push]\njobs:\n  run-checks:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - name: Set up Python\n        uses: actions/setup-python@v5\n        with:\n            cache: 'pip'\n      - name: install dependencies\n        run: |\n          python -m pip install --upgrade pip\n          pip install -r requirements/requirements.txt\n      - name: lint\n        run: ruff check .\n\nActions job or workflow does not limit the permissions of the GITHUB_TOKEN. Consider setting an explicit permissions block, using the following as a minimal starting point: {contents: read}\n```\nThe alert then goes on to provide a full description of the problem and recommends a fix.\n\nUnobstrusive, helpful, and actionable. It also prompted me to read up on [best practices for securing GitHub actions\n](https://docs.github.com/en/actions/security-for-github-actions/security-guides/security-hardening-for-github-actions) and incorporate them into the team's development and code review standards.\n\nYou can go above and beyond the baseline security configuration (for example, setting up automated PRs for outdated dependencies[^1]), but the built-in recommendations are a good place to start if the alternative is doing nothing⎼especially if you're writing software for external users.\n\nKinda like [putting a club on your car](https://beckysweger.com/2025/02/25/remember-the-club-that-thing.html) back in the day.\n\n[^1]: Which caused me to lose my mind, a story for another day\n",
				"date_published": "2025-05-12T16:04:02-05:00",
				"url": "https://beckysweger.com/2025/05/12/small-teams-and-minimum-viable.html",
				"tags": ["security","github","ci/cd"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/05/01/mad-and-grateful-and-scared.html",
				"title": "Mad and grateful",
				"content_html": "<p>Today is one of those perfect spring college campus days. The trees are flowering, the sky is blue, and every open space is filled with students enjoying the sunshine.</p>\n<p>I’m writing this while sitting in one of the many Adirondack chairs scattered around the lawns. Someone is blaring country music, Rhinestone Cowboy. I’m not sure how—what is the 2025 equivalent of a boom box?</p>\n<p>Anyway, I just turned in my UMass laptop because my job here was largely CDC-funded. There’s a good chance the grants will work out, and I hope they do. But in the meantime, I have a family to support and can’t really wait around to find out.</p>\n<p>[we’ve moved on to Dancing Queen, and now there is singing—some things never change]</p>\n<p>I’m lucky. I had the time for an orderly wrap-up and the time to find a job I’m really excited about.</p>\n<p>But I’m still mad. For myself, because I had more to do here, for my erstwhile colleagues who are seeing their life’s work maligned and threatened, for the guy sending the voice of Elvis across the steps of the campus center, for all of us.</p>\n<!-- raw HTML omitted -->\n",
				"content_text": "Today is one of those perfect spring college campus days. The trees are flowering, the sky is blue, and every open space is filled with students enjoying the sunshine.\n\nI’m writing this while sitting in one of the many Adirondack chairs scattered around the lawns. Someone is blaring country music, Rhinestone Cowboy. I’m not sure how—what is the 2025 equivalent of a boom box?\n\nAnyway, I just turned in my UMass laptop because my job here was largely CDC-funded. There’s a good chance the grants will work out, and I hope they do. But in the meantime, I have a family to support and can’t really wait around to find out.\n\n[we’ve moved on to Dancing Queen, and now there is singing—some things never change]\n\nI’m lucky. I had the time for an orderly wrap-up and the time to find a job I’m really excited about.\n\nBut I’m still mad. For myself, because I had more to do here, for my erstwhile colleagues who are seeing their life’s work maligned and threatened, for the guy sending the voice of Elvis across the steps of the campus center, for all of us.\n\n<img src=\"https://cdn.uploads.micro.blog/193728/2025/image.jpg\" width=\"600\" height=\"450\" alt=\"A red brick building with budding spring trees in the front and a sunny blue sky in the back. The sign in front of the building reads “Arnold House”\">\n",
				"date_published": "2025-05-01T16:32:04-05:00",
				"url": "https://beckysweger.com/2025/05/01/mad-and-grateful-and-scared.html"
			},
			{
				"id": "http://bsweger.micro.blog/2025/04/24/goodbye-acadamia-hardly-knew-ya.html",
				"title": "Adventures in academia",
				"content_html": "<p>I&rsquo;m wrapping up an eighteen month stint as a research fellow/research engineer at the University of Massachusetts. Specifically in the <a href=\"https://reichlab.io/people\">Reich Lab</a>, a research team within the School of Public Health&rsquo;s Department of Biostatistics and Epidemiology.</p>\n<p>After six-ish years at a tech company, academia was quite the culture shift. A few former colleagues have asked about making the transition, so what follows are some 100% personal thoughts about the work (which I loved).</p>\n<p>Unlike engineering at a company that sells software, research engineering is a supporting role—a means to an end. You&rsquo;re on someone&rsquo;s grant to help them accomplish their research objectives.</p>\n<p>No one will open a JIRA ticket with a user story about tracking MAU. Instead, the smartest people you&rsquo;ve ever met will walk into your office and start writing on the white board. If there&rsquo;s no white board, they&rsquo;ll grab your pen and start writing in your notebook.</p>\n<p>Sometimes the problems that need solving are in familiar territory: optimizing code, moving things to the cloud, GitHub security. And sometimes the problems that need solving are miles out of your comfort zone, like applying past versions of a SARS-CoV-2 phylogenetic tree to the latest batch of available genome sequences. If you don&rsquo;t have the background to jump in immediately, your colleagues are generous and patient teachers.</p>\n<p>Your communication skills will improve because you&rsquo;re no longer on an engineer-only team, and you can&rsquo;t fall back on engineering jargon to explain your work. Your technical skills will improve because you&rsquo;re working under a different set of constraints.</p>\n<p>Peer review is ingrained in academia. LGTM is not a thing, so you&rsquo;ll start writing clearer documentation, issues, and commit messages. You&rsquo;ll get questions that force you to sharpen your thinking.</p>\n<p>There&rsquo;s no product owner, micro services platform, logging service, event pipeline, identity management, or security team. Tech titles like staff and principal don&rsquo;t mean anything. You can make yourself valuable by going broad, encouraging industry practices where they help, and letting them go when they don&rsquo;t.</p>\n<p>What&rsquo;s next is exciting, but I&rsquo;m beyond grateful for everything I learned at UMass and the brilliant people I met there. See y&rsquo;all at the Blue Wall!</p>\n",
				"content_text": "I'm wrapping up an eighteen month stint as a research fellow/research engineer at the University of Massachusetts. Specifically in the [Reich Lab](https://reichlab.io/people), a research team within the School of Public Health's Department of Biostatistics and Epidemiology.\n\nAfter six-ish years at a tech company, academia was quite the culture shift. A few former colleagues have asked about making the transition, so what follows are some 100% personal thoughts about the work (which I loved).\n\nUnlike engineering at a company that sells software, research engineering is a supporting role—a means to an end. You're on someone's grant to help them accomplish their research objectives.\n\nNo one will open a JIRA ticket with a user story about tracking MAU. Instead, the smartest people you've ever met will walk into your office and start writing on the white board. If there's no white board, they'll grab your pen and start writing in your notebook.\n\nSometimes the problems that need solving are in familiar territory: optimizing code, moving things to the cloud, GitHub security. And sometimes the problems that need solving are miles out of your comfort zone, like applying past versions of a SARS-CoV-2 phylogenetic tree to the latest batch of available genome sequences. If you don't have the background to jump in immediately, your colleagues are generous and patient teachers.\n\nYour communication skills will improve because you're no longer on an engineer-only team, and you can't fall back on engineering jargon to explain your work. Your technical skills will improve because you're working under a different set of constraints.\n\nPeer review is ingrained in academia. LGTM is not a thing, so you'll start writing clearer documentation, issues, and commit messages. You'll get questions that force you to sharpen your thinking.\n\nThere's no product owner, micro services platform, logging service, event pipeline, identity management, or security team. Tech titles like staff and principal don't mean anything. You can make yourself valuable by going broad, encouraging industry practices where they help, and letting them go when they don't.\n\nWhat's next is exciting, but I'm beyond grateful for everything I learned at UMass and the brilliant people I met there. See y'all at the Blue Wall!\n",
				"date_published": "2025-04-24T21:27:18-05:00",
				"url": "https://beckysweger.com/2025/04/24/goodbye-acadamia-hardly-knew-ya.html",
				"tags": ["career","tech"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/04/23/rediscovering-magazine-subscriptions.html",
				"title": "Rediscovering magazine subscriptions",
				"content_html": "<p>One of my money rules is to prioritize spending it on the things you want to see in the world.</p>\n<p>About a year ago, someone somewhere on the internet boosted a post about <a href=\"https://clarkesworldmagazine.com/\">Clarkesworld Science Fiction &amp; Fantasy Magazine</a> and some of the publication&rsquo;s recent troubles:</p>\n<ul>\n<li>Having to temporarily shut off submissions due to a <a href=\"https://www.npr.org/2023/02/24/1159286436/ai-chatbot-chatgpt-magazine-clarkesworld-artificial-intelligence\">deluge of AI-generated stories</a></li>\n<li>Amazon&rsquo;s decision to <a href=\"https://clarkesworldmagazine.com/clarke_09_23/\">stop selling magazine subscriptions via Kindle Newsstand​</a></li>\n</ul>\n<p>Even though I hadn&rsquo;t heard of Clarkesworld, I impulsed joined its <a href=\"https://www.patreon.com/clarkesworld\">Patreon</a> and now, for the price of a streaming service, an actual, physical magazine arrives in the mail each month<sup id=\"fnref:1\"><a href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\">1</a></sup>. It&rsquo;s an event! My son knows what the Clarkesworld mailer looks like and insists on being the one to open it so we can look at the gorgeous cover art together.</p>\n<p>It&rsquo;s a comforting ritual for uncertain times. I&rsquo;m behind on the stories, but the magazines-in-waiting look so beautiful on the shelf—future escapes and a reminder that we can have nice things.</p>\n<section class=\"footnotes\" role=\"doc-endnotes\">\n<hr>\n<ol>\n<li id=\"fn:1\" role=\"doc-endnote\">\n<p>digital-only subscriptions are also available&#160;<a href=\"#fnref:1\" class=\"footnote-backref\" role=\"doc-backlink\">&#x21a9;&#xfe0e;</a></p>\n</li>\n</ol>\n</section>\n",
				"content_text": "\nOne of my money rules is to prioritize spending it on the things you want to see in the world.\n\nAbout a year ago, someone somewhere on the internet boosted a post about [Clarkesworld Science Fiction & Fantasy Magazine](https://clarkesworldmagazine.com/) and some of the publication's recent troubles:\n\n- Having to temporarily shut off submissions due to a [deluge of AI-generated stories](https://www.npr.org/2023/02/24/1159286436/ai-chatbot-chatgpt-magazine-clarkesworld-artificial-intelligence) \n- Amazon's decision to [stop selling magazine subscriptions via Kindle Newsstand​](https://clarkesworldmagazine.com/clarke_09_23/)\n\nEven though I hadn't heard of Clarkesworld, I impulsed joined its [Patreon](https://www.patreon.com/clarkesworld) and now, for the price of a streaming service, an actual, physical magazine arrives in the mail each month[^1]. It's an event! My son knows what the Clarkesworld mailer looks like and insists on being the one to open it so we can look at the gorgeous cover art together.\n\nIt's a comforting ritual for uncertain times. I'm behind on the stories, but the magazines-in-waiting look so beautiful on the shelf—future escapes and a reminder that we can have nice things.\n\n[^1]: digital-only subscriptions are also available\n",
				"date_published": "2025-04-23T20:49:09-05:00",
				"url": "https://beckysweger.com/2025/04/23/rediscovering-magazine-subscriptions.html",
				"tags": ["stories"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/03/26/excel-for-data-standards.html",
				"title": "Excel for data standards",
				"content_html": "<p>Many years ago, I was part of a team that designed a data standard now used throughout the federal government.</p>\n<p>We created most of the data standard by passing an Excel spreadsheet around via e-mail. That process worked remarkably well, because the people with the deepest domain knowledge–the people who were absolutely critical to the effort–were comfortable working in spreadsheets.</p>\n<p>Make it easy for people to contribute their expertise, and they will.</p>\n",
				"content_text": "Many years ago, I was part of a team that designed a data standard now used throughout the federal government.\r\n\r\nWe created most of the data standard by passing an Excel spreadsheet around via e-mail. That process worked remarkably well, because the people with the deepest domain knowledge–the people who were absolutely critical to the effort–were comfortable working in spreadsheets.\r\n\r\nMake it easy for people to contribute their expertise, and they will.\n",
				"date_published": "2025-03-26T21:18:36-05:00",
				"url": "https://beckysweger.com/2025/03/26/excel-for-data-standards.html",
				"tags": ["stories","data"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/02/27/pyprefab-principle-contributingmd-all-the.html",
				"title": "CONTRIBUTING.md all the time",
				"content_html": "<p>I&rsquo;m making good on the threat to write about the opinions that inform <a href=\"https://beckysweger.com/2025/02/24/pyprefab-if-you-need-to.html\">pyprefab</a>, a command line interface that generates Python package scaffolding.</p>\n<p>To be honest, avoiding the doomscroll is part of the motivation for noodling around on this project. But I also really like having pyprefab as a central place to codify my project setup opinions, knowing that every change will be easily incorporated into future work.</p>\n<p>One practice I&rsquo;ve come to appreciate is including a <code>CONTRIBUTING.md</code> document in every project, even if I&rsquo;m the only contributor. Every package created via <a href=\"https://bsweger.github.io/pyprefab/\">pyprefab</a> gets one because I say so.</p>\n<h2 id=\"cyclical-coding\">Cyclical coding</h2>\n<p>My non-work coding habits are very cyclical. New England winters are good for writing a bunch of Python and learning what&rsquo;s new, summers less so. I&rsquo;m writing this during sugaring season, which means mud season is coming up, along with the spring peepers and baseball. Finally, finally the world will start turning green, and spending free time with the laptop will be less appealing.</p>\n<p>Inevitably, the pendulum will swing back, and I&rsquo;ll return to an old project and wonder&hellip;how did that <code>.venv</code> get there? Are we doing the lockfile thing or using pip-compile to generate a requirements.txt? And what is that incantation for previewing the docs? <code>CONTRIBUTING.md</code> will be there with the answers.</p>\n",
				"content_text": "I'm making good on the threat to write about the opinions that inform [pyprefab](https://beckysweger.com/2025/02/24/pyprefab-if-you-need-to.html), a command line interface that generates Python package scaffolding.\n\nTo be honest, avoiding the doomscroll is part of the motivation for noodling around on this project. But I also really like having pyprefab as a central place to codify my project setup opinions, knowing that every change will be easily incorporated into future work.\n\nOne practice I've come to appreciate is including a `CONTRIBUTING.md` document in every project, even if I'm the only contributor. Every package created via [pyprefab](https://bsweger.github.io/pyprefab/) gets one because I say so.\n\n## Cyclical coding\n\nMy non-work coding habits are very cyclical. New England winters are good for writing a bunch of Python and learning what's new, summers less so. I'm writing this during sugaring season, which means mud season is coming up, along with the spring peepers and baseball. Finally, finally the world will start turning green, and spending free time with the laptop will be less appealing.\n\nInevitably, the pendulum will swing back, and I'll return to an old project and wonder...how did that `.venv` get there? Are we doing the lockfile thing or using pip-compile to generate a requirements.txt? And what is that incantation for previewing the docs? `CONTRIBUTING.md` will be there with the answers.\n\n\n\n\n",
				"date_published": "2025-02-27T20:37:41-05:00",
				"url": "https://beckysweger.com/2025/02/27/pyprefab-principle-contributingmd-all-the.html",
				"tags": ["python","pyprefab"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/02/25/remember-the-club-that-thing.html",
				"title": "Don't let someone steal your airbag, read the directions!",
				"content_html": "<!-- raw HTML omitted -->\n",
				"content_text": "<p>Remember the Club? That thing you lock on a car’s steering wheel to prevent theft?</p>\n<p>When I lived in Philly, someone smashed my car window, popped open the steering wheel, and stole the airbag. I was parked behind a car that was the same make and model as mine, and guess what? That car had a Club, and its window wasn’t smashed.</p>\n<p>A Club won’t deter someone who really wants to steal your car, but it <em>will</em> deter someone looking for an easy target. It’s a basic thing that’s straightforward, readily attainable, and prevents a specific class of problem.</p>\n<p>I am not a security expert, but over the years I’ve learned that the software security equivalent of the Club is often just reading the documentation about good security practices and then doing those things. You’d be surprised how many people don’t do it!</p>\n",
				"date_published": "2025-02-25T22:29:44-05:00",
				"url": "https://beckysweger.com/2025/02/25/remember-the-club-that-thing.html",
				"tags": ["stories","tech","security"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/02/24/pyprefab-if-you-need-to.html",
				"title": "uvx pyprefab: if you need to create a Python package real fast",
				"content_html": "<p>The world doesn&rsquo;t need another Python app generator, but I made one anyway. It&rsquo;s called <a href=\"https://pypi.org/project/pyprefab/\">pyprefab</a>, and it&rsquo;s a little cli that prompts for a few pieces of information and then creates a Python package that&rsquo;s ready to go (<em>e.g.</em>, script entry point, test suite, Sphinx docs, configured logs).</p>\n<p>Beyond having a way to quickly stand up new Python projects just the way I like &lsquo;em, my goals for working on pyprefab are:</p>\n<ul>\n<li>\n<p>I&rsquo;ve always worked on internal Python apps and wanted more experience releasing packages to PyPI.</p>\n</li>\n<li>\n<p>Using an app instead of, say, writing a <a href=\"https://cookiecutter.readthedocs.io/en/stable/index.html\">cookiecutter</a> template makes it easier to test the boilerplate packages being created.</p>\n</li>\n<li>\n<p>I wanted something easily shareable at work. We&rsquo;ve already confirmed that uv <a href=\"https://beckysweger.com/2025/01/23/more-machines-more-python-setup.html\">works on everyone&rsquo;s machine</a>, so now people can use <a href=\"https://docs.astral.sh/uv/concepts/tools/\">uv tools</a> + pyprefab to spin up a new app without explicitly installing anything else:</p>\n<p><code>uvx pyprefab</code></p>\n</li>\n</ul>\n<p>pyprefab is opinionated, so I&rsquo;ll probably write about some of those opinions in the future.</p>\n<!-- raw HTML omitted -->\n",
				"content_text": "The world doesn't need another Python app generator, but I made one anyway. It's called [pyprefab](https://pypi.org/project/pyprefab/), and it's a little cli that prompts for a few pieces of information and then creates a Python package that's ready to go (*e.g.*, script entry point, test suite, Sphinx docs, configured logs).\n\nBeyond having a way to quickly stand up new Python projects just the way I like 'em, my goals for working on pyprefab are:\n\n- I've always worked on internal Python apps and wanted more experience releasing packages to PyPI.\n- Using an app instead of, say, writing a [cookiecutter](https://cookiecutter.readthedocs.io/en/stable/index.html) template makes it easier to test the boilerplate packages being created.\n- I wanted something easily shareable at work. We've already confirmed that uv [works on everyone's machine](https://beckysweger.com/2025/01/23/more-machines-more-python-setup.html), so now people can use [uv tools](https://docs.astral.sh/uv/concepts/tools/) + pyprefab to spin up a new app without explicitly installing anything else:\n\n    `uvx pyprefab`\n\npyprefab is opinionated, so I'll probably write about some of those opinions in the future.\n\t\n\n<img src=\"https://cdn.uploads.micro.blog/193728/2025/pyprefab-demo.gif\" alt=\"animated demo of using pyprefab\">\n",
				"date_published": "2025-02-24T23:51:36-05:00",
				"url": "https://beckysweger.com/2025/02/24/pyprefab-if-you-need-to.html",
				"tags": ["python","uv","pyprefab"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/02/22/uv-python-pareto.html",
				"title": "uv: python pareto",
				"content_html": "<blockquote>\n<p>bootstrapping in Python is the root of all evil. By bootstrapping, I mean provisioning Python itself, and configuring a new project so that you can later on install dependencies or build a package. Most problems you have down the road (E.G: packaging problems) actually stem from this</p>\n</blockquote>\n<p>from <a href=\"https://www.bitecode.dev/p/a-year-of-uv-pros-cons-and-should\">Kevin Samuel, A year of uv: pros, cons, and should you migrate</a></p>\n<p>After working as a data engineer at a tech company for nearly six years, on a team composed of software developers who all have the same zippy laptop and the luxury of knowing in advance where their code is going to run, I&rsquo;d almost forgotten about Python&rsquo;s bootstrapping challenges. After starting a new job on a small academic team, I had to remember pretty quickly.</p>\n<p>So much of the above article resonates with my recent experience of devising Python setup notes for a team of people with different operating systems who don&rsquo;t have administrative access to their machines.</p>\n<p>A delightful, highly-opinionated read about various Python pitfalls, their history, and how <a href=\"https://docs.astral.sh/uv/\">uv</a> can solve nearly all of them.</p>\n",
				"content_text": "> bootstrapping in Python is the root of all evil. By bootstrapping, I mean provisioning Python itself, and configuring a new project so that you can later on install dependencies or build a package. Most problems you have down the road (E.G: packaging problems) actually stem from this\n\nfrom [Kevin Samuel, A year of uv: pros, cons, and should you migrate](https://www.bitecode.dev/p/a-year-of-uv-pros-cons-and-should)\n\nAfter working as a data engineer at a tech company for nearly six years, on a team composed of software developers who all have the same zippy laptop and the luxury of knowing in advance where their code is going to run, I'd almost forgotten about Python's bootstrapping challenges. After starting a new job on a small academic team, I had to remember pretty quickly.\n\nSo much of the above article resonates with my recent experience of devising Python setup notes for a team of people with different operating systems who don't have administrative access to their machines. \n\nA delightful, highly-opinionated read about various Python pitfalls, their history, and how [uv](https://docs.astral.sh/uv/) can solve nearly all of them.\n",
				"date_published": "2025-02-22T15:35:02-05:00",
				"url": "https://beckysweger.com/2025/02/22/uv-python-pareto.html",
				"tags": ["python","uv"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/02/11/a-long-time-ago-i.html",
				
				"content_html": "<p>A long time ago, I made this .gif for a presentation, to explain why columnar databases are well-suited for analytics workloads. Especially when you only need a subset of the columns to run your query.</p>\n<p>First .gif I ever made, and perhaps my last.</p>\n<!-- raw HTML omitted -->\n",
				"content_text": "A long time ago, I made this .gif for a presentation, to explain why columnar databases are well-suited for analytics workloads. Especially when you only need a subset of the columns to run your query.\n\nFirst .gif I ever made, and perhaps my last.\n\n<img src=\"https://cdn.uploads.micro.blog/193728/2025/column-store.gif\" width=\"600\" height=\"438\" alt=\"\">\n",
				"date_published": "2025-02-11T17:20:20-05:00",
				"url": "https://beckysweger.com/2025/02/11/a-long-time-ago-i.html",
				"tags": ["data"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/02/11/i-heard-you-like-usaspending.html",
				"title": "I heard you like usaspending data, so have a PostgreSQL",
				"content_html": "<p>Working in the open has many upsides, one of which is the ability to share stories about a project without revealing anything proprietary.</p>\n<p>So this is a story about the software project that culminated in the 2017 relaunch of <a href=\"https://www.usaspending.gov/\">usaspending.gov</a>.  Not only was the code open source (<a href=\"https://github.com/fedspendingtransparency\">it still is</a>), but our JIRA tickets were open to all, and we had a website for collaborating with the public and other feds to <a href=\"https://beckysweger.com/2025/03/26/excel-for-data-standards.html\">develop the data standards</a> that power the site.</p>\n<p>My time as the 18F technical lead on that project is a career highlight, and it&rsquo;s been on my mind as usaspending.gov and all federal data are getting attention. Feeling an urge to archive, I recently checked to see if the usaspending backend database is still available to the public. <a href=\"https://onevoicecrm.my.site.com/usaspending/s/database-download\">It is</a>!</p>\n<p>Having that PostgreSQL archive is important right now, but the original reason for making it available was a creative workaround to a software delivery conundrum.</p>\n<p>The law behind an expanded and improved usaspending.gov (the <a href=\"https://www.congress.gov/bill/113th-congress/senate-bill/994\">DATA Act</a>) mandated an implementation no later than May 2017. The team was maybe a sprint away from this deadline when we found a data aggregation bug that caused some incorrect totals on the test website. It was a relatively straightforward problem and absolutely fixable in the remaining time before launch.</p>\n<p>However, making that fix would mean no time to implement the last remaining &ldquo;must have&rdquo; feature before going live: a way to download the site&rsquo;s data. Providing the ability to download search results was not only a critical capability⎻it was something promised on the project&rsquo;s road map.</p>\n<p>And deviating from that roadmap would have been a sign of failure to the many people who believed that a government-wide, agile, open data software development project could not succeed.</p>\n<p>So we faced that classic software delivery quandry: can&rsquo;t move the date, can&rsquo;t change the scope.</p>\n<p>We obviously prioritized fixing the data bug. As for providing a data download feature, someone on the team had the idea to contact AWS, who made a <a href=\"https://aws.amazon.com/blogs/publicsector/announcing-usaspending-gov-on-an-amazon-rds-snapshot/\">snapshot of our PostgreSQL database available as part of their open data program</a> in time for launch.¹</p>\n<p>Not a user-friendly download capability², but a download capability nonetheless. And that&rsquo;s the original reason for publishing a usaspending.gov database snapshot.</p>\n<p>¹ It&rsquo;s not on AWS anymore, but the announcement page lives on!<br>\n² A more traditional data download feature quickly followed the website&rsquo;s launch.</p>\n",
				"content_text": "Working in the open has many upsides, one of which is the ability to share stories about a project without revealing anything proprietary. \n\nSo this is a story about the software project that culminated in the 2017 relaunch of [usaspending.gov](https://www.usaspending.gov/).  Not only was the code open source ([it still is](https://github.com/fedspendingtransparency)), but our JIRA tickets were open to all, and we had a website for collaborating with the public and other feds to [develop the data standards](https://beckysweger.com/2025/03/26/excel-for-data-standards.html) that power the site.\n\nMy time as the 18F technical lead on that project is a career highlight, and it's been on my mind as usaspending.gov and all federal data are getting attention. Feeling an urge to archive, I recently checked to see if the usaspending backend database is still available to the public. [It is](https://onevoicecrm.my.site.com/usaspending/s/database-download)!\n\nHaving that PostgreSQL archive is important right now, but the original reason for making it available was a creative workaround to a software delivery conundrum.\n\nThe law behind an expanded and improved usaspending.gov (the [DATA Act](https://www.congress.gov/bill/113th-congress/senate-bill/994)) mandated an implementation no later than May 2017. The team was maybe a sprint away from this deadline when we found a data aggregation bug that caused some incorrect totals on the test website. It was a relatively straightforward problem and absolutely fixable in the remaining time before launch.\n\nHowever, making that fix would mean no time to implement the last remaining \"must have\" feature before going live: a way to download the site's data. Providing the ability to download search results was not only a critical capability⎻it was something promised on the project's road map.\n\nAnd deviating from that roadmap would have been a sign of failure to the many people who believed that a government-wide, agile, open data software development project could not succeed.\n\nSo we faced that classic software delivery quandry: can't move the date, can't change the scope.\n\nWe obviously prioritized fixing the data bug. As for providing a data download feature, someone on the team had the idea to contact AWS, who made a [snapshot of our PostgreSQL database available as part of their open data program](https://aws.amazon.com/blogs/publicsector/announcing-usaspending-gov-on-an-amazon-rds-snapshot/) in time for launch.¹\n\nNot a user-friendly download capability², but a download capability nonetheless. And that's the original reason for publishing a usaspending.gov database snapshot.\n\n¹ It's not on AWS anymore, but the announcement page lives on!  \n² A more traditional data download feature quickly followed the website's launch.\n\n",
				"date_published": "2025-02-11T00:21:51-05:00",
				"url": "https://beckysweger.com/2025/02/11/i-heard-you-like-usaspending.html",
				"tags": ["stories"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/02/04/using-polars-for-anonymous-access.html",
				"title": "Using Polars for anonymous access to public data on S3",
				"content_html": "<p><a href=\"https://docs.pola.rs/\">Polars</a> is a really handy go-to for working with public data hosted on AWS S3, and I prefer it over Pandas for most work these days. Using Polars to get a <a href=\"https://docs.pola.rs/api/python/stable/reference/dataframe/index.html\">DataFrame</a> via a bucket&rsquo;s HTTPS endpoint is straightforward:</p>\n<pre tabindex=\"0\"><code>df = pl.read_parquet(\n  &quot;https://ookla-open-data.s3.us-west-2.amazonaws.com/parquet/performance/type=fixed/year=2024/quarter=4/2024-10-01_performance_fixed_tiles.parquet&quot;\n)\n\ndf.select([&quot;quadkey&quot;, &quot;avg_d_kbps&quot;, &quot;avg_u_kbps&quot;, &quot;tests&quot;]).head()\n┌──────────────────┬────────────┬────────────┬───────┐\n│ quadkey          ┆ avg_d_kbps ┆ avg_u_kbps ┆ tests │\n│ ---              ┆ ---        ┆ ---        ┆ ---   │\n│ str              ┆ i64        ┆ i64        ┆ i64   │\n╞══════════════════╪════════════╪════════════╪═══════╡\n│ 0022133222312323 ┆ 33682      ┆ 3278       ┆ 1     │\n│ 0022133222330031 ┆ 97271      ┆ 14686      ┆ 2     │\n│ 0022133222330033 ┆ 92047      ┆ 27325      ┆ 1     │\n│ 0022232311221201 ┆ 537        ┆ 255        ┆ 1     │\n│ 0022302331120033 ┆ 104525     ┆ 4896       ┆ 1     │\n└──────────────────┴────────────┴────────────┴───────┘\n</code></pre><p>However, to read hive-partitioned S3 data or to specify a glob pattern, you&rsquo;ll need to use the <code>s3://</code> protocol. Polars supports this, but the documentation doesn&rsquo;t provide a clear example for bypassing a credentials check and accessing public data anonymously.</p>\n<p>Using the same dataset as above, here&rsquo;s the <code>storage_options</code> incantation that&rsquo;s akin to the AWS CLI&rsquo;s <code>--no-sign-request</code> option. In this example, 2024 is further partitioned into quarters; Polars detects the partitions and slurps multiple files into a single dataframe.</p>\n<pre tabindex=\"0\"><code>df1 = pl.read_parquet(\n  &quot;s3://ookla-open-data/parquet/performance/type=fixed/year=2024/&quot;,\n  storage_options={&quot;skip_signature&quot;: &quot;true&quot;}\n)\n\ndf1.select([&quot;quarter&quot;, &quot;quadkey&quot;, &quot;avg_d_kbps&quot;, &quot;avg_u_kbps&quot;, &quot;tests&quot;]).head()\n┌─────────┬──────────────────┬────────────┬────────────┬───────┐\n│ quarter ┆ quadkey          ┆ avg_d_kbps ┆ avg_u_kbps ┆ tests │\n│ ---     ┆ ---              ┆ ---        ┆ ---        ┆ ---   │\n│ i64     ┆ str              ┆ i64        ┆ i64        ┆ i64   │\n╞═════════╪══════════════════╪════════════╪════════════╪═══════╡\n│ 1       ┆ 0022133222312323 ┆ 64266      ┆ 7578       ┆ 2     │\n│ 1       ┆ 0022133222330012 ┆ 158062     ┆ 14698      ┆ 1     │\n│ 1       ┆ 0022133222330030 ┆ 126380     ┆ 5043       ┆ 3     │\n│ 1       ┆ 0022133222330031 ┆ 87525      ┆ 10572      ┆ 3     │\n│ 1       ┆ 0022133222330032 ┆ 58296      ┆ 8058       ┆ 13    │\n└─────────┴──────────────────┴────────────┴────────────┴───────┘\n</code></pre>",
				"content_text": "[Polars](https://docs.pola.rs/) is a really handy go-to for working with public data hosted on AWS S3, and I prefer it over Pandas for most work these days. Using Polars to get a [DataFrame](https://docs.pola.rs/api/python/stable/reference/dataframe/index.html) via a bucket's HTTPS endpoint is straightforward:\n\n```\ndf = pl.read_parquet(\n  \"https://ookla-open-data.s3.us-west-2.amazonaws.com/parquet/performance/type=fixed/year=2024/quarter=4/2024-10-01_performance_fixed_tiles.parquet\"\n)\n\ndf.select([\"quadkey\", \"avg_d_kbps\", \"avg_u_kbps\", \"tests\"]).head()\n┌──────────────────┬────────────┬────────────┬───────┐\n│ quadkey          ┆ avg_d_kbps ┆ avg_u_kbps ┆ tests │\n│ ---              ┆ ---        ┆ ---        ┆ ---   │\n│ str              ┆ i64        ┆ i64        ┆ i64   │\n╞══════════════════╪════════════╪════════════╪═══════╡\n│ 0022133222312323 ┆ 33682      ┆ 3278       ┆ 1     │\n│ 0022133222330031 ┆ 97271      ┆ 14686      ┆ 2     │\n│ 0022133222330033 ┆ 92047      ┆ 27325      ┆ 1     │\n│ 0022232311221201 ┆ 537        ┆ 255        ┆ 1     │\n│ 0022302331120033 ┆ 104525     ┆ 4896       ┆ 1     │\n└──────────────────┴────────────┴────────────┴───────┘\n```\nHowever, to read hive-partitioned S3 data or to specify a glob pattern, you'll need to use the `s3://` protocol. Polars supports this, but the documentation doesn't provide a clear example for bypassing a credentials check and accessing public data anonymously.\n\nUsing the same dataset as above, here's the `storage_options` incantation that's akin to the AWS CLI's `--no-sign-request` option. In this example, 2024 is further partitioned into quarters; Polars detects the partitions and slurps multiple files into a single dataframe.\n\n```\ndf1 = pl.read_parquet(\n  \"s3://ookla-open-data/parquet/performance/type=fixed/year=2024/\",\n  storage_options={\"skip_signature\": \"true\"}\n)\n\ndf1.select([\"quarter\", \"quadkey\", \"avg_d_kbps\", \"avg_u_kbps\", \"tests\"]).head()\n┌─────────┬──────────────────┬────────────┬────────────┬───────┐\n│ quarter ┆ quadkey          ┆ avg_d_kbps ┆ avg_u_kbps ┆ tests │\n│ ---     ┆ ---              ┆ ---        ┆ ---        ┆ ---   │\n│ i64     ┆ str              ┆ i64        ┆ i64        ┆ i64   │\n╞═════════╪══════════════════╪════════════╪════════════╪═══════╡\n│ 1       ┆ 0022133222312323 ┆ 64266      ┆ 7578       ┆ 2     │\n│ 1       ┆ 0022133222330012 ┆ 158062     ┆ 14698      ┆ 1     │\n│ 1       ┆ 0022133222330030 ┆ 126380     ┆ 5043       ┆ 3     │\n│ 1       ┆ 0022133222330031 ┆ 87525      ┆ 10572      ┆ 3     │\n│ 1       ┆ 0022133222330032 ┆ 58296      ┆ 8058       ┆ 13    │\n└─────────┴──────────────────┴────────────┴────────────┴───────┘\n```\n",
				"date_published": "2025-02-04T20:45:57-05:00",
				"url": "https://beckysweger.com/2025/02/04/using-polars-for-anonymous-access.html",
				"tags": ["til","python","polars","data"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/01/27/a-few-small-repairs.html",
				"title": "A few small repairs",
				"content_html": "<p>Some more micro-improvements in service to the <a href=\"https://beckysweger.com/2024/03/23/the-technical-debt-of-a.html\">technical debt of a thousand paper cuts</a>:</p>\n<ul>\n<li><a href=\"https://osxdaily.com/2016/09/09/view-folder-tree-terminal-mac-os-tree-equivalent/\">Installed tree on MacOS</a>.</li>\n<li>Switched terminals again, this time to <a href=\"https://ghostty.org/\">Ghostty</a>. Warp was good (especially the <a href=\"https://docs.warp.dev/features/blocks\">blocks</a>), but the ever-increasing AI focus got tedious.</li>\n<li>Installed a VSCode extension that <a href=\"https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one\">renders GitHub-flavored markdown correctly</a>. No more mediocre markdown previews.</li>\n<li>Replaced the nano editor with <a href=\"https://micro-editor.github.io/\">micro</a> because I want terminal stuff to be colorful by default.</li>\n<li>Began dropping <a href=\"https://setuptools-scm.readthedocs.io/en/stable/\">setuptools-scm</a> into Python packages to handle dynamic versioning.</li>\n<li>Started using sparse git checkouts for working on subsets of big old repos.</li>\n</ul>\n",
				"content_text": "Some more micro-improvements in service to the [technical debt of a thousand paper cuts](https://beckysweger.com/2024/03/23/the-technical-debt-of-a.html):\n\n- [Installed tree on MacOS](https://osxdaily.com/2016/09/09/view-folder-tree-terminal-mac-os-tree-equivalent/).\n- Switched terminals again, this time to [Ghostty](https://ghostty.org/). Warp was good (especially the [blocks](https://docs.warp.dev/features/blocks)), but the ever-increasing AI focus got tedious.\n- Installed a VSCode extension that [renders GitHub-flavored markdown correctly](https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one). No more mediocre markdown previews.\n- Replaced the nano editor with [micro](https://micro-editor.github.io/) because I want terminal stuff to be colorful by default.\n- Began dropping [setuptools-scm](https://setuptools-scm.readthedocs.io/en/stable/) into Python packages to handle dynamic versioning.\n- Started using sparse git checkouts for working on subsets of big old repos.\n",
				"date_published": "2025-01-27T22:48:47-05:00",
				"url": "https://beckysweger.com/2025/01/27/a-few-small-repairs.html",
				"tags": ["tech"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/01/23/more-machines-more-python-setup.html",
				"title": "More machines, more Python setup problems",
				"content_html": "<p>After working at a large tech company for nearly six years, I was unprepared for how spoiled I&rsquo;d gotten when working on teams with uniform technology. Teams where everyone is admin on their corporate-issued laptops all running the same OS. Teams where 85% of software engineers use the same IDE.</p>\n<p>Within that kind of environment, if you write instructions for setting up and contributing to a Python project, those instructions will almost certainly work on everyone else&rsquo;s machine.</p>\n<p>But when no two teammates—let alone potential contributors to our open source software—have the same setup, all bets are off:</p>\n<ul>\n<li>IT restrictions block the thing</li>\n<li>The Makefile doesn&rsquo;t run on Windows</li>\n<li>Conda edited .bashrc and stuck its base Python environment at the beginning of $PATH</li>\n<li>IDE can&rsquo;t find the virtual environment</li>\n<li>Anti-virus blocks the other thing</li>\n<li>Docker malarkey</li>\n</ul>\n<p>Hence, all the <a href=\"https://beckysweger.com/2025/01/09/im-gonna-write-about-uv.html\">uv</a> <a href=\"https://beckysweger.com/2025/01/14/python-uv-contributing-is-caring.html\">posts</a>. Sure, the speed is nice, and <a href=\"https://beckysweger.com/2025/01/06/change-your-life-with-uv.html\">using <code>uv run</code> to share scripts is A++</a>. But it&rsquo;s also the only all-in-one Python installer, venv, and dependency management tool we&rsquo;ve tried that actually does what we need and so far runs as expected on everyone&rsquo;s machine.</p>\n",
				"content_text": "After working at a large tech company for nearly six years, I was unprepared for how spoiled I'd gotten when working on teams with uniform technology. Teams where everyone is admin on their corporate-issued laptops all running the same OS. Teams where 85% of software engineers use the same IDE.\r\n\r\nWithin that kind of environment, if you write instructions for setting up and contributing to a Python project, those instructions will almost certainly work on everyone else's machine.\r\n\r\nBut when no two teammates—let alone potential contributors to our open source software—have the same setup, all bets are off:\r\n\r\n- IT restrictions block the thing\r\n- The Makefile doesn't run on Windows\r\n- Conda edited .bashrc and stuck its base Python environment at the beginning of $PATH\r\n- IDE can't find the virtual environment\r\n- Anti-virus blocks the other thing\r\n- Docker malarkey\r\n\r\nHence, all the [uv](https://beckysweger.com/2025/01/09/im-gonna-write-about-uv.html) [posts](https://beckysweger.com/2025/01/14/python-uv-contributing-is-caring.html). Sure, the speed is nice, and [using `uv run` to share scripts is A++](https://beckysweger.com/2025/01/06/change-your-life-with-uv.html). But it's also the only all-in-one Python installer, venv, and dependency management tool we've tried that actually does what we need and so far runs as expected on everyone's machine.\r\n\r\n",
				"date_published": "2025-01-23T21:30:31-05:00",
				"url": "https://beckysweger.com/2025/01/23/more-machines-more-python-setup.html",
				"tags": ["tech","python"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/01/16/living-that-tokenfree-life.html",
				"title": "Living that token-free life",
				"content_html": "<p>Finally published something to PyPi (Python&rsquo;s packaging index) after more than a decade of writing Python. It&rsquo;s not exactly new news, but the <a href=\"https://docs.pypi.org/trusted-publishers/\">trusted publishing feature</a> is A++  and straightforward to set up if you use GitHub actions to write to PyPI</p>\n<p>When they first hear about the lack of tokens, people can be pretty skeptical about OIDC + GitHub Actions + PyPy/AWS/whatever.  We&rsquo;ve been conditioned to equate long, weird-looking strings with security, so the idea of <em>not</em> having a long, weird-looking string seems wrong somehow.</p>\n<p>I&rsquo;ve struggled to explain clearly how the pieces fit together and was happy to stumble on this 2023 explainer from Trail of Bits, who worked with the Python Packaging Authority (PyPA) to implement trusted publishers. Bookmarked!</p>\n<p><a href=\"https://blog.trailofbits.com/2023/05/23/trusted-publishing-a-new-benchmark-for-packaging-security/\">blog.trailofbits.com/2023/05/2&hellip;</a></p>\n",
				"content_text": "Finally published something to PyPi (Python's packaging index) after more than a decade of writing Python. It's not exactly new news, but the [trusted publishing feature](https://docs.pypi.org/trusted-publishers/) is A++  and straightforward to set up if you use GitHub actions to write to PyPI\n\nWhen they first hear about the lack of tokens, people can be pretty skeptical about OIDC + GitHub Actions + PyPy/AWS/whatever.  We've been conditioned to equate long, weird-looking strings with security, so the idea of _not_ having a long, weird-looking string seems wrong somehow.\n\nI've struggled to explain clearly how the pieces fit together and was happy to stumble on this 2023 explainer from Trail of Bits, who worked with the Python Packaging Authority (PyPA) to implement trusted publishers. Bookmarked!\n\n[blog.trailofbits.com/2023/05/2...](https://blog.trailofbits.com/2023/05/23/trusted-publishing-a-new-benchmark-for-packaging-security/)\n\n",
				"date_published": "2025-01-16T20:23:16-05:00",
				"url": "https://beckysweger.com/2025/01/16/living-that-tokenfree-life.html",
				"tags": ["tech","python","security"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/01/14/python-uv-contributing-is-caring.html",
				"title": "Python uv: slaying the project setup yaks",
				"content_html": "<p>Life with <code>uv run</code> is going well. The <a href=\"https://beckysweger.com/2025/01/06/change-your-life-with-uv.html\">aforementioned smart, busy colleagues who mostly program in R</a> have <code>uv</code> installed on their machines and the shared Python scripts are flowing.</p>\n<p>You&rsquo;re now ready for Phase 2 of &ldquo;no more Futzing Around™️ with Python.&rdquo;</p>\n<p>One day, a colleague wants to update an internally-developed Python package. That person may not write a lot of Python, but they can certainly fix a straightforward bug or typo. So they refer to <code>CONTRIBUTING.md</code> and find the following instructions for creating a dev environment:</p>\n<ol>\n<li>Clone the repo.</li>\n<li>Look at <code>.python-version</code> to find out which version of Python we&rsquo;re using for development.</li>\n<li>Install pyenv and use pyenv to install the above version of Python.</li>\n<li>Create a virtual environment. It’s tempting to skip this step, but please don’t. You can use python, pyenv-virtualenv, poetry, conda, pdm, hatch, pipenv, rye, or uv to create a virtual environment. <code>CONTRIBUTING.md</code> recommends whatever tool its author likes.</li>\n<li>Activate the virtual environment.</li>\n<li>Install the package dev dependencies: <code>pip install -r requirements-dev.txt</code></li>\n<li>Install the package as an editable module: <code>pip install -e .</code></li>\n<li>Before making your change run the tests to ensure all is well: <code>pytest</code></li>\n</ol>\n<p>Now that everyone on the team has <code>uv</code> installed, you can simplify <code>CONTRIBUTING.md</code> to something like this:</p>\n<ol>\n<li>Clone the repo.</li>\n<li>Create a virtual environment: <code>uv venv --seed</code>¹</li>\n<li>Install the package dev dependencies: <code>uv pip install -r requirements-dev.txt</code></li>\n<li>Install the package as an editable module: <code>uv pip install -e .</code></li>\n<li>Before making your change run the tests to ensure all is well: <code>uv run pytest</code></li>\n</ol>\n<p>I like this approach for two reasons:</p>\n<ol>\n<li>It removes barriers to entry for potential collaborators.</li>\n<li>Yet it doesn&rsquo;t require existing contributors to change the way they work. People are free to handle their own Python installs, virtual environments, and dependencies as they see fit (as long as they generate annotated requirements.txt files when updating dependencies).²</li>\n</ol>\n<p>¹ <a href=\"https://beckysweger.com/2025/01/14/seeding-virtual-environments-with-pip.html\"><code>--seed</code> tells <code>uv</code> to include seed packages like <code>pip</code> and <code>setuptools</code> in the virtual environment it creates</a>. It&rsquo;s helpful for people who would rather activate the environment instead of prefixing every command with <code>uv run</code> or <code>uv pip</code>.</p>\n<p>² Add <code>uv.lock</code> to <code>.gitignore</code> to remove any confusion on this point.</p>\n",
				"content_text": "Life with `uv run` is going well. The [aforementioned smart, busy colleagues who mostly program in R](https://beckysweger.com/2025/01/06/change-your-life-with-uv.html) have `uv` installed on their machines and the shared Python scripts are flowing.\n\nYou're now ready for Phase 2 of \"no more Futzing Around™️ with Python.\"\n\nOne day, a colleague wants to update an internally-developed Python package. That person may not write a lot of Python, but they can certainly fix a straightforward bug or typo. So they refer to `CONTRIBUTING.md` and find the following instructions for creating a dev environment:\n\n1. Clone the repo.\n2. Look at `.python-version` to find out which version of Python we're using for development.\n3. Install pyenv and use pyenv to install the above version of Python.\n4. Create a virtual environment. It’s tempting to skip this step, but please don’t. You can use python, pyenv-virtualenv, poetry, conda, pdm, hatch, pipenv, rye, or uv to create a virtual environment. `CONTRIBUTING.md` recommends whatever tool its author likes.\n5. Activate the virtual environment.\n6. Install the package dev dependencies: `pip install -r requirements-dev.txt`\n7. Install the package as an editable module: `pip install -e .`\n8. Before making your change run the tests to ensure all is well: `pytest`\n\nNow that everyone on the team has `uv` installed, you can simplify `CONTRIBUTING.md` to something like this:\n\n1. Clone the repo.\n2. Create a virtual environment: `uv venv --seed`¹\n3. Install the package dev dependencies: `uv pip install -r requirements-dev.txt`\n4. Install the package as an editable module: `uv pip install -e .`\n5. Before making your change run the tests to ensure all is well: `uv run pytest`\n\nI like this approach for two reasons:\n\n1. It removes barriers to entry for potential collaborators.\n2. Yet it doesn't require existing contributors to change the way they work. People are free to handle their own Python installs, virtual environments, and dependencies as they see fit (as long as they generate annotated requirements.txt files when updating dependencies).²\n\n¹ [`--seed` tells `uv` to include seed packages like `pip` and `setuptools` in the virtual environment it creates](https://beckysweger.com/2025/01/14/seeding-virtual-environments-with-pip.html). It's helpful for people who would rather activate the environment instead of prefixing every command with `uv run` or `uv pip`.\n\n² Add `uv.lock` to `.gitignore` to remove any confusion on this point.\n\n",
				"date_published": "2025-01-14T10:26:00-05:00",
				"url": "https://beckysweger.com/2025/01/14/python-uv-contributing-is-caring.html",
				"tags": ["tech","python","uv"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/01/14/seeding-virtual-environments-with-pip.html",
				"title": "Seeding uv virtual environments with pip",
				"content_html": "<p>It&rsquo;s great that a <a href=\"https://docs.astral.sh/uv/reference/cli/#uv-venv\">uv-created Python virtual environment</a> lives where you&rsquo;d expect it to be: in a folder called <code>.venv</code>. You can still use your muscle memory <code>source .venv/bin/activate</code> incantation to activate it.</p>\n<p>But other muscle memory commands don&rsquo;t work as well, especially those related to <code>pip</code>. By default,  <code>pip</code> isn&rsquo;t installed into uv virtual environments. So you have to do things like <code>uv pip list</code> instead of <code>pip list</code>.</p>\n<p>The uv <code>--seed</code> option fixes that by installing <code>pip</code> and other seed packages into the new environment: <code>uv venv --seed</code>.</p>\n<p>I ended up aliasing <code>uv venv</code> to <code>uv venv --seed</code> with the following function in ye old <code>.zshrc</code>:¹</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-bash\" data-lang=\"bash\">uv<span style=\"color:#f92672\">()</span> <span style=\"color:#f92672\">{</span>\n  <span style=\"color:#66d9ef\">if</span> <span style=\"color:#f92672\">[</span> <span style=\"color:#e6db74\">&#34;</span>$1<span style=\"color:#e6db74\">&#34;</span> <span style=\"color:#f92672\">=</span> <span style=\"color:#e6db74\">&#34;venv&#34;</span> <span style=\"color:#f92672\">]</span>; <span style=\"color:#66d9ef\">then</span>\n    shift\n    command uv venv --shell <span style=\"color:#e6db74\">&#34;</span>$@<span style=\"color:#e6db74\">&#34;</span>\n  <span style=\"color:#66d9ef\">else</span>\n    command uv <span style=\"color:#e6db74\">&#34;</span>$@<span style=\"color:#e6db74\">&#34;</span>\n  <span style=\"color:#66d9ef\">fi</span>\n<span style=\"color:#f92672\">}</span>\n</code></pre></div><p>¹ Here&rsquo;s a scenario where GitHub Copilot is helpful.</p>\n",
				"content_text": "It's great that a [uv-created Python virtual environment](https://docs.astral.sh/uv/reference/cli/#uv-venv) lives where you'd expect it to be: in a folder called `.venv`. You can still use your muscle memory `source .venv/bin/activate` incantation to activate it.\n\nBut other muscle memory commands don't work as well, especially those related to `pip`. By default,  `pip` isn't installed into uv virtual environments. So you have to do things like `uv pip list` instead of `pip list`.\n\nThe uv `--seed` option fixes that by installing `pip` and other seed packages into the new environment: `uv venv --seed`.\n\nI ended up aliasing `uv venv` to `uv venv --seed` with the following function in ye old `.zshrc`:¹\n\n```bash\nuv() {\n  if [ \"$1\" = \"venv\" ]; then\n    shift\n    command uv venv --shell \"$@\"\n  else\n    command uv \"$@\"\n  fi\n}\n```\n¹ Here's a scenario where GitHub Copilot is helpful.\n\n\n",
				"date_published": "2025-01-14T09:03:13-05:00",
				"url": "https://beckysweger.com/2025/01/14/seeding-virtual-environments-with-pip.html",
				"tags": ["til","python","uv"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/01/09/im-gonna-write-about-uv.html",
				"title": "uv run redux",
				"content_html": "<p>I&rsquo;m gonna write about <code>uv run</code> again, because it&rsquo;s just that handy!</p>\n<p>Lou Franco <a href=\"https://mastodon.social/@loufranco/113783255399204720\">asked a very good question</a> about the <a href=\"https://beckysweger.com/2025/01/06/change-your-life-with-uv.html\"><code>uv run</code> post from earlier in the week</a>:</p>\n<blockquote>\n<p>is there much that the sharer has to do? (I have a requirements.txt file)</p>\n</blockquote>\n<p>Nope! Assuming that the script and requirements.txt file are in the same directory (and that the person running the script has uv installed):</p>\n<p><code>uv run --with-requirements requirements.txt very-useful-script.py</code></p>\n<p>You could also <a href=\"https://docs.astral.sh/uv/guides/scripts/#declaring-script-dependencies\">embed the requirements in the script itself</a>. Or install dependencies from <code>pyproject.toml</code> Or use an index other than PyPI. Or load some environment variables before running the script. It&rsquo;s all here: <a href=\"https://docs.astral.sh/uv/reference/cli/#uv-run\">https://docs.astral.sh/uv/reference/cli/#uv-run</a></p>\n<p>It&rsquo;s one of the great things about uv. You can use it to manage an entire Python project, but you don&rsquo;t <em>have</em> to: just pick and choose what you need.</p>\n<p>P.S. Lou <a href=\"https://loufranco.com/\">has a blog</a> and is <a href=\"https://loufranco.com/tech-debt-book\">writing a book about tech debt</a>. You should read them!</p>\n",
				"content_text": "I'm gonna write about `uv run` again, because it's just that handy!\n\nLou Franco [asked a very good question](https://mastodon.social/@loufranco/113783255399204720) about the [`uv run` post from earlier in the week](https://beckysweger.com/2025/01/06/change-your-life-with-uv.html):\n\n>  is there much that the sharer has to do? (I have a requirements.txt file)\n\nNope! Assuming that the script and requirements.txt file are in the same directory (and that the person running the script has uv installed):\n\n`uv run --with-requirements requirements.txt very-useful-script.py`\n\nYou could also [embed the requirements in the script itself](https://docs.astral.sh/uv/guides/scripts/#declaring-script-dependencies). Or install dependencies from `pyproject.toml` Or use an index other than PyPI. Or load some environment variables before running the script. It's all here: [https://docs.astral.sh/uv/reference/cli/#uv-run](https://docs.astral.sh/uv/reference/cli/#uv-run)\n\nIt's one of the great things about uv. You can use it to manage an entire Python project, but you don't _have_ to: just pick and choose what you need.\n\nP.S. Lou [has a blog](https://loufranco.com/) and is [writing a book about tech debt](https://loufranco.com/tech-debt-book). You should read them!\n\n",
				"date_published": "2025-01-09T20:29:14-05:00",
				"url": "https://beckysweger.com/2025/01/09/im-gonna-write-about-uv.html",
				"tags": ["tech","python","uv"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/01/06/change-your-life-with-uv.html",
				"title": "Python + uv run: sharing is caring",
				"content_html": "<p>Imagine that your colleagues—very smart, busy people who mostly program in R—need a dataset that&rsquo;s difficult to create. And they want the ability to recreate the dataset as often as necessary. The freedom to tweak the code and experiment with the inputs.</p>\n<h2 id=\"without-uv\">Without uv</h2>\n<p>Good news! You have a script that does exactly what they need. It&rsquo;s written in Python instead of R, but anyone can run it by following these simple steps:</p>\n<ol>\n<li>Install Python. Python is already on your laptop, but don&rsquo;t use that one. Install a different Python. Actually, just install pyenv and then use pyenv to install Python.</li>\n<li>Create a virtual environment. It&rsquo;s tempting to skip this step, but please don&rsquo;t. You can use python, pyenv-virtualenv, poetry, conda, pdm, hatch, pipenv, rye, or uv to create a virtual environment. I will make a recommendation. Next month I will make a different recommendation.</li>\n<li>Activate your virtual environment.</li>\n<li>The script uses polars, biopython, and zstandard, so use pip to install those dependencies. Don&rsquo;t install polars 1.17.0, everything will break.</li>\n<li>Run the script: <code>python very-useful-script.py</code></li>\n</ol>\n<h2 id=\"with-uv\">With uv</h2>\n<p>Good news! You have a script that does exactly what they need. It&rsquo;s written in Python instead of R, but anyone can run it by following these simple steps:</p>\n<ol>\n<li>Install <a href=\"https://docs.astral.sh/uv/\">uv</a></li>\n<li>Use <a href=\"https://docs.astral.sh/uv/guides/scripts/\"><code>uv run</code></a> to execute the script: <code>uv run very-useful-script.py</code></li>\n</ol>\n",
				"content_text": "Imagine that your colleagues—very smart, busy people who mostly program in R—need a dataset that's difficult to create. And they want the ability to recreate the dataset as often as necessary. The freedom to tweak the code and experiment with the inputs.\n\n## Without uv\n\nGood news! You have a script that does exactly what they need. It's written in Python instead of R, but anyone can run it by following these simple steps:\n\n1. Install Python. Python is already on your laptop, but don't use that one. Install a different Python. Actually, just install pyenv and then use pyenv to install Python.\n2. Create a virtual environment. It's tempting to skip this step, but please don't. You can use python, pyenv-virtualenv, poetry, conda, pdm, hatch, pipenv, rye, or uv to create a virtual environment. I will make a recommendation. Next month I will make a different recommendation.\n3. Activate your virtual environment.\n4. The script uses polars, biopython, and zstandard, so use pip to install those dependencies. Don't install polars 1.17.0, everything will break.\n5. Run the script: `python very-useful-script.py`\n\n\n## With uv\n\nGood news! You have a script that does exactly what they need. It's written in Python instead of R, but anyone can run it by following these simple steps:\n\n1. Install [uv](https://docs.astral.sh/uv/)\n2. Use [`uv run`](https://docs.astral.sh/uv/guides/scripts/) to execute the script: `uv run very-useful-script.py`\n\n",
				"date_published": "2025-01-06T09:55:00-05:00",
				"url": "https://beckysweger.com/2025/01/06/change-your-life-with-uv.html",
				"tags": ["stories","tech","python","uv"]
			},
			{
				"id": "http://bsweger.micro.blog/2025/01/02/skip-a-job-in-a.html",
				"title": "Skip a GitHub workflow job when running on a fork",
				"content_html": "<p>Skipping GitHub action jobs on forked repos is a surprisingly hard thing to Google. Most advice says to:</p>\n<ul>\n<li>disable workflows on the forked repo</li>\n<li>hard-code a check for the repo&rsquo;s owner name to determine whether or not it&rsquo;s a fork</li>\n</ul>\n<p>But I work on a <a href=\"https://github.com/reichlab/variant-nowcast-hub\">repository at Day Job™️</a> that has many workflows, some of which are useful to external contributors who fork. Also, why give people manual instructions for something a computer can check?</p>\n<p>Secondly, the workflow in question is derived from a template used by other repository owners in our ecosystem. Ideally, there would be a solution that doesn&rsquo;t hard-code an owner name (so we can update the template itself).</p>\n<p>After following <a href=\"https://til.simonwillison.net/github-actions/dump-context\">this advice from Simon Willison</a> about dumping the GitHub actions context, I stumbled upon <code>github.event.repository.fork</code> 🎉</p>\n<p>Here&rsquo;s what it looks like in practice—the job below will not run on a fork:</p>\n<pre tabindex=\"0\"><code>jobs:\n  your-job:\n    # Don't run on forked repositories\n    if: github.event.repository.fork != true\n    runs-on: ubuntu-latest\n</code></pre>",
				"content_text": "Skipping GitHub action jobs on forked repos is a surprisingly hard thing to Google. Most advice says to:\n\n- disable workflows on the forked repo\n- hard-code a check for the repo's owner name to determine whether or not it's a fork\n\nBut I work on a [repository at Day Job™️](https://github.com/reichlab/variant-nowcast-hub) that has many workflows, some of which are useful to external contributors who fork. Also, why give people manual instructions for something a computer can check?\n\nSecondly, the workflow in question is derived from a template used by other repository owners in our ecosystem. Ideally, there would be a solution that doesn't hard-code an owner name (so we can update the template itself).\n\nAfter following [this advice from Simon Willison](https://til.simonwillison.net/github-actions/dump-context) about dumping the GitHub actions context, I stumbled upon `github.event.repository.fork` 🎉\n\nHere's what it looks like in practice—the job below will not run on a fork:\n\n```\njobs:\n  your-job:\n    # Don't run on forked repositories\n    if: github.event.repository.fork != true\n    runs-on: ubuntu-latest\n```\n",
				"date_published": "2025-01-02T20:06:59-05:00",
				"url": "https://beckysweger.com/2025/01/02/skip-a-job-in-a.html",
				"tags": ["tech","til"]
			},
			{
				"id": "http://bsweger.micro.blog/2024/12/31/this-aged-well-etc-etchttpsjawnsclubbendystraw.html",
				"title": "🎶 It's the most wonderful time of the year to mess around with your blog",
				"content_html": "<p>This idea did not age particularly well, given 2024&rsquo;s various WordPress dramas.</p>\n\n\t\t\n\t\t\t<blockquote class=\"toot-blockquote\" cite=\"https://jawns.club@bendystraw/status/109979304645203691\">\n\t\t\t\t<div class=\"toot-header\">\n\t\t\t\t\t<a class=\"toot-profile\" href=\"https://jawns.club/@bendystraw\" rel=\"noopener\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"https://cdn.masto.host/jawnsclub/accounts/avatars/109/343/210/363/981/110/original/b91f4f8fd048987c.jpeg\"\n\t\t\t\t\t\t\talt=\"Mastodon avatar for @bendystraw@jawns.club\"\n\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</a>\n\t\t\t\t\t<div class=\"toot-author\">\n\t\t\t\t\t\t<a class=\"toot-author-name\" href=\"https://jawns.club/@bendystraw\" rel=\"noopener\">Becky Sweger</a>\n\t\t\t\t\t\t<a class=\"toot-author-handle\" href=\"https://jawns.club/@bendystraw\" rel=\"noopener\">@bendystraw@jawns.club</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div><p>Considering going back to good old Wordpress (hosted, this time) so I can focus on actually writing blogs instead of reminding myself how Hugo works every 18 months or so</p>\n\t\t\t\t<div class=\"toot-footer\">\n\t\t\t\t\t<a href=\"https://jawns.club/@bendystraw/109979304645203691\" class=\"toot-date\" rel=\"noopener\">1:03 AM • March 7, 2023</a>&nbsp;<span class=\"pokey\">(UTC)</span>\n\t\t\t\t</div>\n\t\t\t</blockquote>\n<p>So I moved everything to micro.blog, which lets you write in markdown while using a hosted service, so you don&rsquo;t have to upgrade hugo and remember how it works and submit a pull request whenever you want to write something.</p>\n<p>Also, it is my fervent hope that having a &ldquo;micro&rdquo; blog will silence the nagging voice insisting that each post must be a carefully crafted, highly-edited endeavor.</p>\n<p>2025 is the year of blogging&ndash;for real this time!</p>\n",
				"content_text": "This idea did not age particularly well, given 2024's various WordPress dramas. \n\n{{< stoot instance=\"jawns.club\" id=\"109979304645203691\" >}}\n\nSo I moved everything to micro.blog, which lets you write in markdown while using a hosted service, so you don't have to upgrade hugo and remember how it works and submit a pull request whenever you want to write something.\n\nAlso, it is my fervent hope that having a \"micro\" blog will silence the nagging voice insisting that each post must be a carefully crafted, highly-edited endeavor.\n\n2025 is the year of blogging--for real this time!\n",
				"date_published": "2024-12-31T17:41:34-05:00",
				"url": "https://beckysweger.com/2024/12/31/this-aged-well-etc-etchttpsjawnsclubbendystraw.html"
			},
			{
				"id": "http://bsweger.micro.blog/2024/03/23/the-technical-debt-of-a.html",
				"title": "The technical debt of a thousand paper cuts",
				"content_html": "<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n",
				"content_text": "<!-- wp:paragraph -->\n<p>Over the last several years, I've spent less and less time on the treadmill of investigating the latest productivity tools and hacks related to the act of writing code. Partly because my job evolved into technical architecture and leadership and required less coding. And partly because the hard problems of writing code can't be solved by the perfect text editor or terminal setup. The hard part of writing code is figuring out what code actually needs to be written and how you're going to work with the people who will write it with you.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>But I recently did an experiment and carved out time to dust off a bunch of old (and new!) \"here's a helpful thing to try\" bookmarks. And, you know, actually try those things. The result? I realized that individual tooling-related paper cuts may not prevent good work from getting done, but they can slowly pile up and create drag in your daily routine. Note self: make the easy fixes as needed, and regularly schedule time to revisit those \"things to try\" bookmarks.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>An incomplete list of small improvements:</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul>\n<!-- wp:list-item -->\n<li>Getting right with cord management in the home office.</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Tweaking global IPython settings to ensure the <a href=\"https://stackoverflow.com/a/43020072\">autoreload module is always enabled</a>. Always. Everywhere.</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Finally getting around to <a href=\"https://pre-commit.com/\">pre-commit</a>.</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Preventing that thing where you accidentally pip install a Python package outside of a virtual environment: <code>export PIP_REQUIRE_VIRTUALENV=true</code>\n</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>\n<a href=\"https://www.atlassian.com/git/tutorials/dotfiles\">Source-controlling dotfiles</a> like a grownup.</li>\n<!-- /wp:list-item -->\n\n\n<li>Re-jigging <code>.zshrc</code> for speed.</li>\n\n<!-- wp:list-item -->\n<li>Creating a <a href=\"https://github.com/bsweger/python-app-template\">template for Python projects</a> just the way I like them.</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Adopting <a href=\"https://highlyopinionated.co/swish/\">Swish</a> for windows management</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Switching to <a href=\"https://www.warp.dev/\">Warp</a> terminal* </li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Adopting many of the git aliases and config options in this <a href=\"https://jawns.club/@b0rk@jvns.ca/111947514705559803\">incredibly useful Mastodon thread</a> from <a href=\"https://jawns.club/@b0rk@jvns.ca\">Julia Evans</a>.</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Adding some VSCode extensions to do quick data things without leaving a code base (browsing parquet files, for example).</li>\n<!-- /wp:list-item -->\n</ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p>*Supplying personal information to use a terminal gives me the heebie jeebies, and I fully expect Warp to turn evil at some point. But damn, it's so useful. The smart completions alone save so much typing.</p>\n<!-- /wp:paragraph -->\n",
				"date_published": "2024-03-23T14:05:05-05:00",
				"url": "https://beckysweger.com/2024/03/23/the-technical-debt-of-a.html",
				"tags": ["tech"]
			},
			{
				"id": "http://bsweger.micro.blog/2024/01/08/theres-more-to-tech-than.html",
				"title": "There's more to tech than startups and large software companies",
				"content_html": "<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n",
				"content_text": "<!-- wp:paragraph -->\n<p>I like to <a href=\"https://beckysweger.com/2020/10/18/tech-hiring-the-streetlight-effect/\">rant about so-called innovative software companies that all conform to the same hiring process and hire the same kinds of people</a>.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>But the lack of original thinking isn't limited to employers. Many, many candidates assume that there are two options for a software engineering job search:</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list {\"ordered\":true} -->\n<ol>\n<!-- wp:list-item -->\n<li>big tech company, for a high salary and relative stability</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>startup: to shoot your shot</li>\n<!-- /wp:list-item -->\n</ol>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p>Yet, these two things make up such a small fraction of \"jobs that require people good at computers.\" </p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Any domain that tickles your fancy probably has related software jobs. And trust that software companies and startups don't have a monopoly on smart people, interesting tech, or compelling problems to solve.</p>\n<!-- /wp:paragraph -->\n",
				"date_published": "2024-01-08T23:29:52-05:00",
				"url": "https://beckysweger.com/2024/01/08/theres-more-to-tech-than.html",
				"tags": ["career"]
			},
			{
				"id": "http://bsweger.micro.blog/2024/01/03/review-machine-learning-engineering-with.html",
				"title": "Review: Machine Learning Engineering With Python",
				"content_html": "<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n",
				"content_text": "<!-- wp:paragraph -->\n<p>A few months ago, I picked up the second edition of <em><a href=\"https://www.packtpub.com/product/machine-learning-engineering-with-python-second-edition/9781837631964\">Machine Learning Engineering Python</a></em> by Andrew McMahon. After reading it cover to cover and working through the final chapters' end-to-end projects, I have some thoughts.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>In summary: I loved this book. It tackles a vast, complex topic, but the style is conversational and never feels too overwhelming.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Who should read <em>Machine Learning Engineering With Python</em>?</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>This book is about machine learning operations (MLOps) and discusses every aspect of the machine learning model lifecycle, a truly ambitious goal. Machine learning algorithms, model registries, pipelines and orchestration, creating APIs, containers, monitoring and alerting, cleaning data, Kubernetes, model testing, it's all here. And the book doesn't stop at running code on your local machine: there are several step-by-step instructions for deploying to the cloud (AWS).</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>I'd highly recommend <em>Machine Learning Engineering With Python</em> if any of the following is true:</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list {\"ordered\":true} -->\n<ol>\n<!-- wp:list-item -->\n<li>You want a good mental model of MLOps and what roles are involved (<em>e.g.</em>, data scientists, operations engineers, data engineers).</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>You'd like some hands-on experience with MLOps tooling.</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>You're interested in some of the trade-offs to consider when building a machine learning project.</li>\n<!-- /wp:list-item -->\n</ol>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p>Given that the book covers an astounding amount of ground in just over 400 pages, I wouldn't recommend the book to:</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul>\n<!-- wp:list-item -->\n<li>Anyone with little or no Python experience.</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Anyone looking for a deep dive into specific MLOps topics (this isn't a criticism: the goal of the book is to present an end-to-end overview of the machine learning lifecycle).</li>\n<!-- /wp:list-item -->\n</ul>\n<!-- /wp:list -->\n\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Why I Read It</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>I've been working on the periphery of MLOps for the past several years. As a data engineer, I extract data, model it, and get it to users. Some of these users then do mysterious things like \"hyperparameter tuning\" and \"feature engineering\" and \"registering models.\"</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Because it's always useful to understand what people are doing with your data, I wanted to demystify these activities and understand them at a high level. <em>Machine Learning Engineering With Python</em> delivered. If you're in the same boat, don't hesitate to buy the book. <strong>Highly, highly recommend--you will benefit, even if you don't do the coding exercises.</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Hands-On</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>In addition to understanding the components of MLOps, I also wanted experience with tools of the trade. To get that, I skipped most of the code samples in the earlier chapters of the book and dove into the end-to-end projects presented in chapters 8 and 9.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>The presentation of these projects was excellent. For each technical decision (<em>e.g.</em>, which training algorithm to use, how to serve models), McMahon presents several options and walks readers through the pros and cons of each one. Incredibly valuable for people trying to strengthen their mental model in the MLOps space.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>My one suggestion is that the code for these projects (from the book's <a href=\"https://github.com/PacktPublishing/Machine-Learning-Engineering-with-Python-Second-Edition/tree/main/Chapter08\">GitHub</a> <a href=\"https://github.com/PacktPublishing/Machine-Learning-Engineering-with-Python-Second-Edition/tree/main/Chapter09\">repo</a>) could be more organized: neither the book nor the READMEs had clear instructions for standing up a working system.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>I suspect this is a result of the author trying to give his readers all the things! The projects contain multiple versions of the same code, each useful in its own right, and each highlighting useful patterns for real world scenarios. </p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>While these variations are useful, novices would benefit from step-by-step instructions for getting the simplest possible version of each project up and running. The simple version could then be a foundation for those who want to iterate and level up.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Readers will have different experiences with the hands-on portion of the book, depending on their background and what they're trying to learn. I'm happy I persevered and got some debugging experience with new tools, but I can see how someone with less time, patience, and experience untangling Python errors would get frustrated.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Minimum Viable Projects</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p><em>Machine Learning Engineering With Python</em> is an excellent book. In case it's helpful for other readers, I created simple versions of the MLOps projects from Chapters 8 and 9, along with detailed READMEs for getting them to run:</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul>\n<!-- wp:list-item -->\n<li>Chapter 8, retail forecasting microservice: <a href=\"https://github.com/bsweger/ml-service-demo\">https://github.com/bsweger/ml-service-demo</a>\n</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Chapter 9, taxi ride clustering and annotating with ChatGPT: <a href=\"https://github.com/bsweger/ml-etml-demo\">https://github.com/bsweger/ml-etml-demo</a>\n</li>\n<!-- /wp:list-item -->\n</ul>\n<!-- /wp:list -->\n",
				"date_published": "2024-01-03T16:39:30-05:00",
				"url": "https://beckysweger.com/2024/01/03/review-machine-learning-engineering-with.html",
				"tags": ["tech","python","data"]
			},
			{
				"id": "http://bsweger.micro.blog/2021/12/23/we-named-our-data-warehouse.html",
				"title": "We named our data warehouse after a bacteria",
				"content_html": "<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n",
				"content_text": "<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Proteus 2004</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>In the early 2000s (peak <a href=\"https://en.wikipedia.org/wiki/Ralph_Kimball\">Kimball</a>-<a href=\"https://en.wikipedia.org/wiki/Star_schema\">star-schema</a>-business-intelligence era), my team launched a data warehouse at a hospital in New Jersey.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>We were a scrappy, hard-working team and wanted people to get excited by no longer needing IT intervention for custom reports about patient stay lengths and insurance companies who weren’t paying us.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Alas, the phrase “data warehouse” wasn’t generating the appropriate enthusiasm, so we clearly needed an exciting code name for our work.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>At our next meeting, the team’s mythology nerd suggested that we rebrand as <em>Proteus</em>, after the omniscient <a href=\"https://en.wikipedia.org/wiki/Proteus\">Greek sea divinity</a>:</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:quote -->\n<blockquote class=\"wp-block-quote\">\n<!-- wp:paragraph -->\n<p>[Proteus] can foretell the future, but, in a mytheme familiar to several cultures, will change his shape to avoid doing so; he answers only to those who are capable of capturing him.</p>\n<!-- /wp:paragraph -->\n</blockquote>\n<!-- /wp:quote -->\n\n<!-- wp:paragraph -->\n<p>We all agreed that positioning our data warehouse as the mechanism for seizing an elusive, all-knowing god was very clever and that we were obviously marketing geniuses.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Thirty minutes later, I got back to my desk and Googled <em>Proteus</em>, only to find that in addition to being a minor sea god, <a href=\"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4638163/\">Proteus is also a bacteria</a>:</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:quote -->\n<blockquote class=\"wp-block-quote\">\n<!-- wp:paragraph -->\n<p>Proteus mirabilis is a Gram-negative bacterium which is well-known for its ability to robustly swarm across surfaces in a striking bulls’-eye pattern. Clinically, this organism is most frequently a pathogen of the urinary tract.</p>\n<!-- /wp:paragraph -->\n</blockquote>\n<!-- /wp:quote -->\n\n<!-- wp:paragraph -->\n<p>A pathogen of the urinary tract 😱❗️</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>That would have been an unfortunate revelation in any domain, but it was especially unfortunate in a healthcare setting. As newly-minted marketing geniuses, we realized that hospital employees might be wary of a project named after germs that cause urinary tract infections.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>I was still sad about Proteus when one of the project’s sponsors (a doctor) stopped by to chat. After hearing the story of the sea god and the UTIs, he paused a second and blurted out “Proteus: it’s not a bug!”</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>And so we doubled down on Proteus.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>“Proteus: it’s not a bug” became our new catchphrase. We plastered it on posters that went up all over the hospital. We printed it on sticky notes. We printed it on pens, which were promptly swiped by the microbiologists.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Proteus 2021</h2>\n<!-- /wp:heading -->\n\n<!-- wp:image {\"id\":81,\"sizeSlug\":\"large\",\"linkDestination\":\"none\"} -->\n<figure class=\"wp-block-image size-large\"><img src=\"https://cdn.uploads.micro.blog/wp-content/193728/2023/03/image.png?w=1024\" alt=\"Logos and names of hundreds of products in the data and AI space as of 2021\" class=\"wp-image-81\"><figcaption class=\"wp-element-caption\"><em>Data and AI Landscape 2021 by Matt Ruck</em></figcaption></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph -->\n<p>I thought of Proteus recently, when perusing the <a href=\"https://mattturck.com/data2021/\">2021 Machine Learning, AI, and Data Landscape</a>. Surprisingly, the crowded diagram doesn’t contain one single reference to my favorite sea god. A wasted opportunity!</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>At the very least, Proteus would be a good name for a niche AI that will text when you’re about to get a urinary tract infection. Even better would be Proteus as a bot who rides the waves of the metaverse, using its powers of omniscience to “well actually” all who dwell there.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Yeah, still a marketing genius after all these years.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p></p>\n<!-- /wp:paragraph -->\n",
				"date_published": "2021-12-23T19:45:00-05:00",
				"url": "https://beckysweger.com/2021/12/23/we-named-our-data-warehouse.html",
				"tags": ["stories","data"]
			},
			{
				"id": "http://bsweger.micro.blog/2020/10/18/tech-hiring-the-streetlight-effect.html",
				"title": "Tech hiring: the streetlight effect",
				"content_html": "<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n<!-- raw HTML omitted -->\n",
				"content_text": "<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Programmers of a <em>Certain Age</em>\n</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>If you’re a software engineer of a certain age–working before the first dot com, let’s say–you might remember when software engineers were mere programmers. You might also remember that programming was a job and not a lifestyle. You weren’t in “tech,” you worked for the electric company, writing the code for their billing system. A pretty fun job, and a solid middle class living.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Regardless of what we call ourselves now, telling computers what to do remains a good way to earn money (for now, until the robots take over). A “tech” job is a ticket to the middle class or, depending on where you work and live, the upper middle class.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>As a result, lots of people are out there trying to “break into tech.” At the same time, companies always seem to be hiring (even during these Unprecedented Times™️), often lamenting how hard it is to find “good talent.”</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">The Streetlight Effect</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>To recap: a bunch of places are trying to hire for jobs that a bunch of people want to do. And yet, these places find it difficult to fill the positions. I’m glossing over some nuance, but it’s pretty hard to see this situation as anything other than a problem companies have created for themselves.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>There’s an <a href=\"https://en.wikipedia.org/wiki/Streetlight_effect\">old story</a> about a drunk man who loses his keys in a park, yet searches for them under a streetlight, because that’s where the light is shining. It’s a decent metaphor for the current state of tech hiring. The light is shining on a limited number of people who went to particular schools, who work at certain companies, who are connected to the right people, or who meet some other easy-to-pattern-match criteria.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>On the whole, companies don’t hire outside the boundaries of the streetlight. How strange that “innovators” straight-up ignore what seems like an obvious advantage: finding great people in places your competitors aren’t even looking.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">The Old Days, Before Dot Com</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>So back to the pre-dot-com days of programming. There was no expectation that new hires would join the company fully formed and ready to commit code on day one. Aspiring software developers did not simply sit around in coffee shops training themselves on side projects, since laptops cost $3,000 and dial-up ruled the land.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Thus, companies had to invest in creating the workforce they wanted.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Nowadays, when someone rants about laundry-list job descriptions or multiple coding-style interviews, they’re often perceived as wanting to “lower the bar.”</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>It’s maddening. A lot of this perception is gatekeeping, but some of it is the result of a field that skews young and isn’t aware of its own history. Through many conversations, I’ve realized that people are so mired in the current status quo they genuinely can’t envision tech hiring in any other form. They don’t realize there was ever another way.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>For that reason, here is the abbreviated process for how I “broke into tech,” just as one small example of another way to cultivate programming talent.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">One Company’s Investment</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>Several months after graduating with an English degree, I got a programming job offer. It was from a consulting firm that hired people with sound logic and communication skills and onboarded them at a six week COBOL bootcamp in Boston.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>The company <em>paid us to go to bootcamp, not the other way around</em>. They very sensibly decided that a good way to get COBOL programmers was to hire smart people and teach them to be COBOL programmers. As a bonus, the instructors also taught the company’s corporate ethos, molding us into just the kind of junior associates needed to round out project teams.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>The training program wasn’t an act of kindness–it was an act of capitalism. The company invested in new employees and in return were able to put us on client projects for decent hourly rates. Trainees got good starting salaries and were able to learn on the job. We worked hard to prove ourselves, and our clients benefited.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Interview Process</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>This was the interview cycle:</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list {\"ordered\":true} -->\n<ol>\n<!-- wp:list-item -->\n<li>Conversation with a recruiter who asked about general skills and accomplishments; no expectation that those would be tech-related.</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Written communication test (can you convey ideas effectively).</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Written logic test (high-level, flowchart-type stuff).</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>If the above went well, final interview with a partner.</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>If the partner interview went well, candidates got a job offer, contingent upon passing a computer-based, multiple choice test of COBOL concepts. Company provided a book to study from and a place to practice.</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Once you passed the COBOL test, the offer was confirmed: you became an employee, and began six weeks of paid training.</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>After training, you were assessed on two measures: a re-take of the COBOL test and the instructor’s appraisal of your ability to learn, communicate, and get work done.</li>\n<!-- /wp:list-item -->\n</ol>\n<!-- /wp:list -->\n\n<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Time to Revisit?</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>By no means were things perfect, and the program certainly wasn’t a gatekeeping-free utopia. There was a college degree requirement, for example. And having to spend six weeks training in Boston meant few caregivers could participate. And while there were many women, we were mostly white.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>So the company’s hiring pool was smaller than it could have been, but it was much larger than the pool most places fish from today. They assessed for potential, employing hundreds, if not thousands, of people this way, proving that engineering is a teachable skill and is more than writing code.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Fix the broken bits, and this model would be a starting point for companies of a certain size to find the smart, talented people working their asses off for a shot at the jobs so many of us lucked into all those years ago.</p>\n<!-- /wp:paragraph -->\n",
				"date_published": "2020-10-18T20:21:00-05:00",
				"url": "https://beckysweger.com/2020/10/18/tech-hiring-the-streetlight-effect.html",
				"tags": ["career"]
			},
			{
				"id": "http://bsweger.micro.blog/2011/02/20/new-opportunities.html",
				"title": "New opportunities",
				"content_html": "<p><img src=\"https://beckysweger.com/uploads/2026/pasted-image-20260106183646.png\" alt=\"Pasted image 20260106183646.png\"></p>\n<p>In less than two weeks, after years of discussion, my husband and I are moving away from Philadelphia.</p>\n<p>Yes, it’s a terrible time to leave good jobs and find new ones, and it’s not the best time to sell a house. We have no friends or family in our new town. But the time is now.</p>\n<p>I truly and deeply love Philly. However, for many reasons—some related to the city, and some related to us—I know it’s not our forever home.</p>\n<p>After spending the last month of my father’s life in Lititz with my family, I witnessed the importance of community and the forever home. I saw the same thing again in Galloway, NJ after Nana died. The forever home is more than an investment, more than a five year plan. And community is so much more than acquaintances, loose connections, and professional networks.</p>\n<p>After a lot of research (and a spreadsheet, of course), we decided to relocate to Northampton, Massachusetts. The Pioneer Valley has everything we could want from nature (rivers, lakes, trees, and mountains), and Northampton has most things we could want from a town (thriving retail, restaurants, theaters, and music venues).  My new job is local and promises to be challenging and interesting.</p>\n<p>Taking the leap without a bridge is hard, but the house, jobs, and other details fell into place after we committed to the change. Because why wait?</p>\n<p>Thanks to Wharton Computing for 5 ½ years of opportunity. It’s a great place to work and a tough place to leave.</p>\n<p>And goodbye to the Philadelphia characters and friends we’ve met over the years through blogs, neighborhood dramas, work, clubs, and just wandering around this great city of ours. Walking away from you after 15 years is downright heartbreaking.</p>\n",
				"content_text": "![Pasted image 20260106183646.png](https://beckysweger.com/uploads/2026/pasted-image-20260106183646.png)\n\nIn less than two weeks, after years of discussion, my husband and I are moving away from Philadelphia.\n\nYes, it’s a terrible time to leave good jobs and find new ones, and it’s not the best time to sell a house. We have no friends or family in our new town. But the time is now.\n\nI truly and deeply love Philly. However, for many reasons—some related to the city, and some related to us—I know it’s not our forever home.\n\nAfter spending the last month of my father’s life in Lititz with my family, I witnessed the importance of community and the forever home. I saw the same thing again in Galloway, NJ after Nana died. The forever home is more than an investment, more than a five year plan. And community is so much more than acquaintances, loose connections, and professional networks.\n\nAfter a lot of research (and a spreadsheet, of course), we decided to relocate to Northampton, Massachusetts. The Pioneer Valley has everything we could want from nature (rivers, lakes, trees, and mountains), and Northampton has most things we could want from a town (thriving retail, restaurants, theaters, and music venues).  My new job is local and promises to be challenging and interesting.\n\nTaking the leap without a bridge is hard, but the house, jobs, and other details fell into place after we committed to the change. Because why wait?\n\nThanks to Wharton Computing for 5 ½ years of opportunity. It’s a great place to work and a tough place to leave.\n\nAnd goodbye to the Philadelphia characters and friends we’ve met over the years through blogs, neighborhood dramas, work, clubs, and just wandering around this great city of ours. Walking away from you after 15 years is downright heartbreaking.\n\n",
				"date_published": "2011-02-20T19:00:00-05:00",
				"url": "https://beckysweger.com/2011/02/20/new-opportunities.html",
				"tags": ["stories"]
			},
			{
				"id": "http://bsweger.micro.blog/2011/01/09/kindle-a-fling-or-a.html",
				"title": "Kindle, a fling or a long-term relationship?",
				"content_html": "<p><img src=\"https://beckysweger.com/uploads/2026/pasted-image-20260106183318.png\" alt=\"Pasted image 20260106183318.png\"></p>\n<p>For the last four months, I’ve been having a love affair with the Kindle 3.  It’s a sleek companion, and with the push of a button it can deliver a whole universe of books and magazines.</p>\n<p>And it’s easy.  Easy to carry, easy on the eyes, and easy to use.</p>\n<p>But the Kindle ecosystem reminds me of another product that makes it easy to access digital content—iTunes.  When iTunes came along those many years ago, it was so fun to download one-hit wonders from the 80s and to grab albums that the much-cooler-than-me girl across the hall listened to in college.</p>\n<p>The geeks complaining about DRM were just chatter in the background of my new-found music.</p>\n<p>But now I regret spending money on content that’s locked to a single family of devices and can’t be shared with the rest of the household.  Which raises the question:  a few years from now, will I have the same regrets about Kindle purchases?</p>\n",
				"content_text": "\n![Pasted image 20260106183318.png](https://beckysweger.com/uploads/2026/pasted-image-20260106183318.png)\n\nFor the last four months, I’ve been having a love affair with the Kindle 3.  It’s a sleek companion, and with the push of a button it can deliver a whole universe of books and magazines.\n\nAnd it’s easy.  Easy to carry, easy on the eyes, and easy to use.\n\nBut the Kindle ecosystem reminds me of another product that makes it easy to access digital content—iTunes.  When iTunes came along those many years ago, it was so fun to download one-hit wonders from the 80s and to grab albums that the much-cooler-than-me girl across the hall listened to in college.\n\nThe geeks complaining about DRM were just chatter in the background of my new-found music.\n\nBut now I regret spending money on content that’s locked to a single family of devices and can’t be shared with the rest of the household.  Which raises the question:  a few years from now, will I have the same regrets about Kindle purchases?\n",
				"date_published": "2011-01-09T19:00:00-05:00",
				"url": "https://beckysweger.com/2011/01/09/kindle-a-fling-or-a.html",
				"tags": ["tech"]
			},
			{
				"id": "http://bsweger.micro.blog/2010/11/09/choices-curation-and-csas.html",
				"title": "Choices, curation, and CSAs",
				"content_html": "<p>Back in 2005, I read Barry Schwartz’s <a href=\"https://bookshop.org/p/books/the-paradox-of-choice-why-more-is-less-dorwin-cartwright-professor-of-social-theology-and-social-action-theology-department-barry-schwartz/46ce4744e861a344?ean=9780060005696&amp;next=t\"><em>Paradox of Choice</em></a>. I think of Schwartz’s maximizers and satisficers whenever I’m paralyzed by many choices in, say, the toothpaste aisle of Target.</p>\n<p>But what if you’re not in the toothpaste aisle of Target?  What if you’re on Amazon.com and can choose from millions of book?  Or you’re facing a feed reader with thousands of unread items?  Assuming that funds and time are finite, how do you choose?</p>\n<p>It’s no longer a matter of choosing the first option that meets your needs.  We need to pre-screen and remove the cognitive load of irrelevant options altogether, either through a human curator or an algorithm.</p>\n<p>When I tell people about our <a href=\"https://web.archive.org/web/20200920134519/http://en.wikipedia.org/wiki/Community-supported_agriculture\" title=\"Wikipedia: community supported agriculture\">community supported agriculture</a> (CSA) membership, the first question is usually, “is pre-paying for a season of farm food cheaper than buying it at the store?”</p>\n<p>Frankly, I have no idea.  This is the wrong question.  We’re paying first and foremost to support local farmers, but we’re also paying the folks of Greensgrow (our local urban farm) to build relationships with growers and choose the week’s produce.  We pay them to make sure each delivery has leafy greens, veggies, fruit, and cheese.  In other words, we pay them to curate our food, and it’s a great investment.</p>\n",
				"content_text": "\nBack in 2005, I read Barry Schwartz’s [_Paradox of Choice_](https://bookshop.org/p/books/the-paradox-of-choice-why-more-is-less-dorwin-cartwright-professor-of-social-theology-and-social-action-theology-department-barry-schwartz/46ce4744e861a344?ean=9780060005696&next=t). I think of Schwartz’s maximizers and satisficers whenever I’m paralyzed by many choices in, say, the toothpaste aisle of Target.\n\nBut what if you’re not in the toothpaste aisle of Target?  What if you’re on Amazon.com and can choose from millions of book?  Or you’re facing a feed reader with thousands of unread items?  Assuming that funds and time are finite, how do you choose?\n\nIt’s no longer a matter of choosing the first option that meets your needs.  We need to pre-screen and remove the cognitive load of irrelevant options altogether, either through a human curator or an algorithm.\n\nWhen I tell people about our [community supported agriculture](https://web.archive.org/web/20200920134519/http://en.wikipedia.org/wiki/Community-supported_agriculture \"Wikipedia: community supported agriculture\") (CSA) membership, the first question is usually, “is pre-paying for a season of farm food cheaper than buying it at the store?”\n\nFrankly, I have no idea.  This is the wrong question.  We’re paying first and foremost to support local farmers, but we’re also paying the folks of Greensgrow (our local urban farm) to build relationships with growers and choose the week’s produce.  We pay them to make sure each delivery has leafy greens, veggies, fruit, and cheese.  In other words, we pay them to curate our food, and it’s a great investment.\n",
				"date_published": "2010-11-09T19:00:00-05:00",
				"url": "https://beckysweger.com/2010/11/09/choices-curation-and-csas.html",
				"tags": ["stories"]
			},
			{
				"id": "http://bsweger.micro.blog/2009/12/16/regular-expression-for-dollar-amount.html",
				"title": "Regular Expression for dollar amount validation",
				"content_html": "<p>I’m finishing up a small project that required validating dollar amounts on web-based form fields, and luckily I was using the Validation jQuery plugin.</p>\n<p>Although this plugin doesn’t come with an out-of-the-box dollar validator method, it’s easy to add your own. The trick was to find an appropriate regular expression. Although Google turned up several regex examples for validating dollar inputs, none met my exact criteria (the ultimate goal being to provide users with the greatest amount of data-entry leeway):</p>\n<ul>\n<li>Allow the user to type in the <em>$</em> (or not)</li>\n<li>Allow amounts less than one dollar (<em>i.e.</em>, 0 – .99)</li>\n<li>Allow an optional one or two decimal places</li>\n<li>No negative dollar amounts</li>\n</ul>\n<p>So this is what I came up with, and it seems to be working. Two notes: (a) this expression allows inappropriate commas, but I’m stripping those out during the server-side validations, and (b) it is used in conjunction with the <em>max()</em> validator function to ensure the user doesn’t enter anything that could blow up a SQL Server money column:</p>\n<pre tabindex=\"0\"><code>^\\$?[0-9][0-9\\,]*(\\.\\d{1,2})?$|^\\$?[\\.]([\\d][\\d]?)$    `\n</code></pre><p>The final jQuery validator method:</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-javascript\" data-lang=\"javascript\"><span style=\"color:#75715e\">//custom validator for money fields\n</span><span style=\"color:#75715e\"></span><span style=\"color:#a6e22e\">jQuery</span>.<span style=\"color:#a6e22e\">validator</span>.<span style=\"color:#a6e22e\">addMethod</span>(<span style=\"color:#e6db74\">&#34;money&#34;</span>, <span style=\"color:#66d9ef\">function</span>(<span style=\"color:#a6e22e\">value</span>, <span style=\"color:#a6e22e\">element</span>) {\n  <span style=\"color:#66d9ef\">return</span> <span style=\"color:#66d9ef\">this</span>.<span style=\"color:#a6e22e\">optional</span>(<span style=\"color:#a6e22e\">element</span>) <span style=\"color:#f92672\">||</span> <span style=\"color:#e6db74\">/^\\$?[0-9][0-9\\,]*(\\.\\d{1,2})?$|^\\$?[\\.]([\\d][\\d]?)$/</span>.<span style=\"color:#a6e22e\">test</span>(<span style=\"color:#a6e22e\">value</span>); \n}, <span style=\"color:#e6db74\">&#34;Please provide a valid dollar amount (up to 2 decimal places)&#34;</span>);   <span style=\"color:#e6db74\">`\n</span></code></pre></div>",
				"content_text": "I’m finishing up a small project that required validating dollar amounts on web-based form fields, and luckily I was using the Validation jQuery plugin.\n\nAlthough this plugin doesn’t come with an out-of-the-box dollar validator method, it’s easy to add your own. The trick was to find an appropriate regular expression. Although Google turned up several regex examples for validating dollar inputs, none met my exact criteria (the ultimate goal being to provide users with the greatest amount of data-entry leeway):\n\n- Allow the user to type in the _$_ (or not)\n- Allow amounts less than one dollar (_i.e._, 0 – .99)\n- Allow an optional one or two decimal places\n- No negative dollar amounts\n\nSo this is what I came up with, and it seems to be working. Two notes: (a) this expression allows inappropriate commas, but I’m stripping those out during the server-side validations, and (b) it is used in conjunction with the _max()_ validator function to ensure the user doesn’t enter anything that could blow up a SQL Server money column: \n\n```\n^\\$?[0-9][0-9\\,]*(\\.\\d{1,2})?$|^\\$?[\\.]([\\d][\\d]?)$    `\n```\nThe final jQuery validator method:\n\n```javascript\n//custom validator for money fields\njQuery.validator.addMethod(\"money\", function(value, element) {\n  return this.optional(element) || /^\\$?[0-9][0-9\\,]*(\\.\\d{1,2})?$|^\\$?[\\.]([\\d][\\d]?)$/.test(value); \n}, \"Please provide a valid dollar amount (up to 2 decimal places)\");   `\n```\n",
				"date_published": "2009-12-16T10:10:00-05:00",
				"url": "https://beckysweger.com/2009/12/16/regular-expression-for-dollar-amount.html"
			},
			{
				"id": "http://bsweger.micro.blog/2009/11/20/swiz-framework-for-flex.html",
				"title": "Swiz framework for Flex",
				"content_html": "<p><img src=\"https://cdn.uploads.micro.blog/193728/2026/pasted-image-20260105215117.png\" alt=\"Pasted image 20260105215117.png\"></p>\n<p>A few colleagues have had positive experiences using the <a href=\"https://github.com/swiz/swiz-framework\">Swiz framework</a> for Flex applications.</p>\n<p>I haven’t used Flex frameworks in the past because a) I was still learning Flex and wasn’t ready to throw a framework into the mix and b) the only real option was Cairngorm, which seemed like complete overkill.</p>\n<p>Now that I’m more comfortable with Flex and understand some of its limitations, however, I can endorse Swiz.</p>\n<p>Swiz doesn’t impose a strict structure, and it solves actual problems.  Even if you don’t care about separating your model from your views or abstracting service calls, Swiz is worth investigating for these reasons:</p>\n<p><strong>Event Handling:</strong> You can dispatch events at will and add the corresponding event listeners where required.  You don’t have to worry about the fact the Flex events bubble up and not down—Swiz just takes care of it.</p>\n<p><strong>Command Chains</strong>:  It’s often the case that Flex remote object calls need to occur in a particular sequence or that a series of remote object calls needs to complete before moving on to the next piece of code.  The logic required to ensure everything happens in the right order can get messy and only gets worse over time.  Swiz allows you to define a series of commands (called a <em>CommandChain</em>) and execute them together (sequentially or in parallel).</p>\n<p>The Swiz Google code page and the Swiz Framework site have some instructions for getting started with Swiz.  The code samples are piecemeal and outdated, however, so I created a small project that demonstrates basic Swiz functions.  It’s a pretty silly app, but I created it so the Wharton Computing developer community could reference some well-commented code that works in our environment.</p>\n<p>Because the back-end services are written in ColdFusion and it’s not especially practical to invest in CF hosting just to demo this, what you see here is a static screenshot.</p>\n",
				"content_text": "![Pasted image 20260105215117.png](https://cdn.uploads.micro.blog/193728/2026/pasted-image-20260105215117.png)\n\nA few colleagues have had positive experiences using the [Swiz framework](https://github.com/swiz/swiz-framework) for Flex applications.\n\nI haven’t used Flex frameworks in the past because a) I was still learning Flex and wasn’t ready to throw a framework into the mix and b) the only real option was Cairngorm, which seemed like complete overkill.\n\nNow that I’m more comfortable with Flex and understand some of its limitations, however, I can endorse Swiz.\n\nSwiz doesn’t impose a strict structure, and it solves actual problems.  Even if you don’t care about separating your model from your views or abstracting service calls, Swiz is worth investigating for these reasons:\n\n**Event Handling:** You can dispatch events at will and add the corresponding event listeners where required.  You don’t have to worry about the fact the Flex events bubble up and not down—Swiz just takes care of it.\n\n**Command Chains**:  It’s often the case that Flex remote object calls need to occur in a particular sequence or that a series of remote object calls needs to complete before moving on to the next piece of code.  The logic required to ensure everything happens in the right order can get messy and only gets worse over time.  Swiz allows you to define a series of commands (called a _CommandChain_) and execute them together (sequentially or in parallel).\n\nThe Swiz Google code page and the Swiz Framework site have some instructions for getting started with Swiz.  The code samples are piecemeal and outdated, however, so I created a small project that demonstrates basic Swiz functions.  It’s a pretty silly app, but I created it so the Wharton Computing developer community could reference some well-commented code that works in our environment.\n\nBecause the back-end services are written in ColdFusion and it’s not especially practical to invest in CF hosting just to demo this, what you see here is a static screenshot.\n",
				"date_published": "2009-11-20T19:00:00-05:00",
				"url": "https://beckysweger.com/2009/11/20/swiz-framework-for-flex.html",
				"tags": ["tech","flex"]
			},
			{
				"id": "http://bsweger.micro.blog/2009/10/26/beware-the-change-scripts-created.html",
				"title": "Beware the change scripts created by SQL Server Management Studio",
				"content_html": "<p>Part of my job is moonlighting as a SQL Server database admin, so a co-worker recently asked me to run a script against a production table. The task was simple: add a few new columns and create some indexes. He had generated the script by using SQL Server 2008 Management Studio’s (SSMS) Generate Change Script function.</p>\n<p>Although the general sequence of steps in the generated script made sense, I have some complaints about the SSMS output. Here’s a very simple recreation of the scenario.</p>\n<p>Consider a table with two columns. One is a primary key, and one has a default constraint:</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"color:#66d9ef\">CREATE</span> <span style=\"color:#66d9ef\">TABLE</span> phillies (\n  phils_id INT <span style=\"color:#66d9ef\">IDENTITY</span>(<span style=\"color:#ae81ff\">1</span>,<span style=\"color:#ae81ff\">1</span>)\n  , phils_year CHAR(<span style=\"color:#ae81ff\">4</span>) <span style=\"color:#66d9ef\">NOT</span> <span style=\"color:#66d9ef\">NULL</span>    \n  <span style=\"color:#66d9ef\">CONSTRAINT</span> df_phillies_year <span style=\"color:#66d9ef\">DEFAULT</span> (<span style=\"color:#ae81ff\">2008</span>)\n  , <span style=\"color:#66d9ef\">CONSTRAINT</span> pk_phils_id\n    <span style=\"color:#66d9ef\">PRIMARY</span> <span style=\"color:#66d9ef\">KEY</span> CLUSTERED (phils_id))   <span style=\"color:#f92672\">`</span>\n</code></pre></div><p>Using the SSMS table design view to add two columns to the phillies table and saving the change script results in the following code:</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"color:#66d9ef\">BEGIN</span> <span style=\"color:#66d9ef\">TRANSACTION</span>\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">ALTER</span> <span style=\"color:#66d9ef\">TABLE</span> dbo.phillies\n  <span style=\"color:#66d9ef\">DROP</span> <span style=\"color:#66d9ef\">CONSTRAINT</span> df_phillies_year\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">CREATE</span> <span style=\"color:#66d9ef\">TABLE</span> dbo.Tmp_phillies (\n    phils_id INT <span style=\"color:#66d9ef\">IDENTITY</span>(<span style=\"color:#ae81ff\">1</span>,<span style=\"color:#ae81ff\">1</span>)\n  , phils_year CHAR(<span style=\"color:#ae81ff\">4</span>) <span style=\"color:#66d9ef\">NOT</span> <span style=\"color:#66d9ef\">NULL</span>\n  , division_champ_flag bit <span style=\"color:#66d9ef\">NOT</span> <span style=\"color:#66d9ef\">NULL</span>\n  , national_champ_flag bit <span style=\"color:#66d9ef\">NOT</span> <span style=\"color:#66d9ef\">NULL</span>\n) <span style=\"color:#66d9ef\">ON</span> [<span style=\"color:#66d9ef\">PRIMARY</span>]\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">ALTER</span> <span style=\"color:#66d9ef\">TABLE</span> dbo.Tmp_phillies\n  <span style=\"color:#66d9ef\">ADD</span> <span style=\"color:#66d9ef\">CONSTRAINT</span>\n  df_phillies_year <span style=\"color:#66d9ef\">DEFAULT</span> ((<span style=\"color:#ae81ff\">2008</span>)) <span style=\"color:#66d9ef\">FOR</span> phils_year\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">SET</span> IDENTITY_INSERT dbo.Tmp_phillies <span style=\"color:#66d9ef\">ON</span>\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">IF</span> <span style=\"color:#66d9ef\">EXISTS</span>(<span style=\"color:#66d9ef\">SELECT</span> <span style=\"color:#f92672\">*</span> <span style=\"color:#66d9ef\">FROM</span> dbo.phillies)\n  <span style=\"color:#66d9ef\">EXEC</span>(<span style=\"color:#e6db74\">&#39;INSERT INTO dbo.Tmp_phillies\n</span><span style=\"color:#e6db74\">    (phils_id, phils_year)\n</span><span style=\"color:#e6db74\">  SELECT phils_id, phils_year\n</span><span style=\"color:#e6db74\">  FROM dbo.phillies\n</span><span style=\"color:#e6db74\">  WITH (HOLDLOCK TABLOCKX)&#39;</span>)\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">SET</span> IDENTITY_INSERT dbo.Tmp_phillies <span style=\"color:#66d9ef\">OFF</span>\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">DROP</span> <span style=\"color:#66d9ef\">TABLE</span> dbo.phillies\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">EXECUTE</span> sp_rename\n  N<span style=\"color:#e6db74\">&#39;dbo.Tmp_phillies&#39;</span>, N<span style=\"color:#e6db74\">&#39;phillies&#39;</span>, <span style=\"color:#e6db74\">&#39;OBJECT&#39;</span>\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">ALTER</span> <span style=\"color:#66d9ef\">TABLE</span> dbo.phillies\n  <span style=\"color:#66d9ef\">ADD</span> <span style=\"color:#66d9ef\">CONSTRAINT</span>\n  pk_phils_id <span style=\"color:#66d9ef\">PRIMARY</span> <span style=\"color:#66d9ef\">KEY</span> CLUSTERED\n  (phils_id) <span style=\"color:#66d9ef\">ON</span> [<span style=\"color:#66d9ef\">PRIMARY</span>]\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">COMMIT</span>\n</code></pre></div><p>This script contains <code>BEGIN TRANSACTION</code> and <code>COMMIT TRANSACTION</code> statements but doesn’t accompany them with any kind of error handling. So if you run it as-is and encounter an error, nothing gets rolled back.</p>\n<p>Any error handling that you might add, however, is thwarted by the fact that the script’s statements are contained in individual batches (<em>i.e.</em>, separated by <code>GO</code> statements).</p>\n<p>Say you individually check each statement for errors and issue a rollback/return if something goes awry.</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"color:#66d9ef\">BEGIN</span> <span style=\"color:#66d9ef\">TRANSACTION</span>\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">ALTER</span> <span style=\"color:#66d9ef\">TABLE</span> dbo.phillies\n  <span style=\"color:#66d9ef\">DROP</span> <span style=\"color:#66d9ef\">CONSTRAINT</span> df_phillies_year\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">CREATE</span> <span style=\"color:#66d9ef\">TABLE</span> dbo.Tmp_phillies (\n    phils_id INT <span style=\"color:#66d9ef\">IDENTITY</span>(<span style=\"color:#ae81ff\">1</span>,<span style=\"color:#ae81ff\">1</span>)\n  , phils_year CHAR(<span style=\"color:#ae81ff\">4</span>) <span style=\"color:#66d9ef\">NOT</span> <span style=\"color:#66d9ef\">NULL</span>\n  , division_champ_flag bit <span style=\"color:#66d9ef\">NOT</span> <span style=\"color:#66d9ef\">NULL</span>\n  , national_champ_flag bit <span style=\"color:#66d9ef\">NOT</span> <span style=\"color:#66d9ef\">NULL</span>\n) <span style=\"color:#66d9ef\">ON</span> [<span style=\"color:#66d9ef\">PRIMARY</span>]\n<span style=\"color:#66d9ef\">GO</span>\n[snip]\n<span style=\"color:#75715e\">-- throw an error\n</span><span style=\"color:#75715e\"></span><span style=\"color:#66d9ef\">SELECT</span> <span style=\"color:#ae81ff\">23</span><span style=\"color:#f92672\">/</span><span style=\"color:#ae81ff\">0</span>\n<span style=\"color:#66d9ef\">IF</span> <span style=\"color:#f92672\">@@</span>ERROR <span style=\"color:#f92672\">&lt;&gt;</span> <span style=\"color:#ae81ff\">0</span>\n<span style=\"color:#66d9ef\">BEGIN</span>\n  PRINT <span style=\"color:#e6db74\">&#39;error!&#39;</span>\n  <span style=\"color:#66d9ef\">ROLLBACK</span> <span style=\"color:#66d9ef\">TRANSACTION</span>\n  <span style=\"color:#66d9ef\">RETURN</span>\n<span style=\"color:#66d9ef\">END</span>\n[snip]\n<span style=\"color:#66d9ef\">GO</span>\n<span style=\"color:#66d9ef\">DROP</span> <span style=\"color:#66d9ef\">TABLE</span> dbo.phillies\n</code></pre></div><p>In this scenario, changes that occurred prior to the error will be rolled back. However, although the RETURN statement exits the current batch, subsequent batches (for example, the one that deletes your table) will execute.</p>\n<p>A TRY/CATCH block is another potential error-handling method, but TRY/CATCH blocks can’t span multiple batches.</p>\n<p>So what’s with the batch-happy SSMS? In older versions of SQL it might have been necessary to separate a <code>CREATE TABLE</code> and subsequent <code>ALTER TABLE</code> statements into separate batches (I haven’t tested this). But SQL 2005 and 2008 provide statement-level recompilation, so the multitude of batches isn&rsquo;t necessary.</p>\n<p>A “GO-less” version of the script handled errors swimmingly. It’s understandable that SSMS can’t generate the error-handling, but if it would reduce the scripts’ number of batches to the minimum required, it would be easier to add the error handling yourself.</p>\n<p>Conclusion: don’t rely on these SQL Server Management Studio-generated change scripts for any serious work, and definitely don’t use them as a model for how to write robust T-SQL.</p>\n",
				"content_text": "Part of my job is moonlighting as a SQL Server database admin, so a co-worker recently asked me to run a script against a production table. The task was simple: add a few new columns and create some indexes. He had generated the script by using SQL Server 2008 Management Studio’s (SSMS) Generate Change Script function.\n\nAlthough the general sequence of steps in the generated script made sense, I have some complaints about the SSMS output. Here’s a very simple recreation of the scenario.\n\nConsider a table with two columns. One is a primary key, and one has a default constraint:\n\n```sql\nCREATE TABLE phillies (\n  phils_id INT IDENTITY(1,1)\n  , phils_year CHAR(4) NOT NULL    \n  CONSTRAINT df_phillies_year DEFAULT (2008)\n  , CONSTRAINT pk_phils_id\n    PRIMARY KEY CLUSTERED (phils_id))   `\n```\n\nUsing the SSMS table design view to add two columns to the phillies table and saving the change script results in the following code:\n\n```sql\nBEGIN TRANSACTION\nGO\nALTER TABLE dbo.phillies\n  DROP CONSTRAINT df_phillies_year\nGO\nCREATE TABLE dbo.Tmp_phillies (\n    phils_id INT IDENTITY(1,1)\n  , phils_year CHAR(4) NOT NULL\n  , division_champ_flag bit NOT NULL\n  , national_champ_flag bit NOT NULL\n) ON [PRIMARY]\nGO\nALTER TABLE dbo.Tmp_phillies\n  ADD CONSTRAINT\n  df_phillies_year DEFAULT ((2008)) FOR phils_year\nGO\nSET IDENTITY_INSERT dbo.Tmp_phillies ON\nGO\nIF EXISTS(SELECT * FROM dbo.phillies)\n  EXEC('INSERT INTO dbo.Tmp_phillies\n    (phils_id, phils_year)\n  SELECT phils_id, phils_year\n  FROM dbo.phillies\n  WITH (HOLDLOCK TABLOCKX)')\nGO\nSET IDENTITY_INSERT dbo.Tmp_phillies OFF\nGO\nDROP TABLE dbo.phillies\nGO\nEXECUTE sp_rename\n  N'dbo.Tmp_phillies', N'phillies', 'OBJECT'\nGO\nALTER TABLE dbo.phillies\n  ADD CONSTRAINT\n  pk_phils_id PRIMARY KEY CLUSTERED\n  (phils_id) ON [PRIMARY]\nGO\nCOMMIT\n```\n\nThis script contains `BEGIN TRANSACTION` and `COMMIT TRANSACTION` statements but doesn’t accompany them with any kind of error handling. So if you run it as-is and encounter an error, nothing gets rolled back.\n\nAny error handling that you might add, however, is thwarted by the fact that the script’s statements are contained in individual batches (_i.e._, separated by `GO` statements).\n\nSay you individually check each statement for errors and issue a rollback/return if something goes awry.\n\n```sql\nBEGIN TRANSACTION\nGO\nALTER TABLE dbo.phillies\n  DROP CONSTRAINT df_phillies_year\nGO\nCREATE TABLE dbo.Tmp_phillies (\n    phils_id INT IDENTITY(1,1)\n  , phils_year CHAR(4) NOT NULL\n  , division_champ_flag bit NOT NULL\n  , national_champ_flag bit NOT NULL\n) ON [PRIMARY]\nGO\n[snip]\n-- throw an error\nSELECT 23/0\nIF @@ERROR <> 0\nBEGIN\n  PRINT 'error!'\n  ROLLBACK TRANSACTION\n  RETURN\nEND\n[snip]\nGO\nDROP TABLE dbo.phillies\n```\n\nIn this scenario, changes that occurred prior to the error will be rolled back. However, although the RETURN statement exits the current batch, subsequent batches (for example, the one that deletes your table) will execute.\n\nA TRY/CATCH block is another potential error-handling method, but TRY/CATCH blocks can’t span multiple batches.\n\nSo what’s with the batch-happy SSMS? In older versions of SQL it might have been necessary to separate a `CREATE TABLE` and subsequent `ALTER TABLE` statements into separate batches (I haven’t tested this). But SQL 2005 and 2008 provide statement-level recompilation, so the multitude of batches isn't necessary.\n\nA “GO-less” version of the script handled errors swimmingly. It’s understandable that SSMS can’t generate the error-handling, but if it would reduce the scripts’ number of batches to the minimum required, it would be easier to add the error handling yourself.\n\nConclusion: don’t rely on these SQL Server Management Studio-generated change scripts for any serious work, and definitely don’t use them as a model for how to write robust T-SQL.\n",
				"date_published": "2009-10-26T19:00:00-05:00",
				"url": "https://beckysweger.com/2009/10/26/beware-the-change-scripts-created.html",
				"tags": ["tech","data"]
			},
			{
				"id": "http://bsweger.micro.blog/2009/09/29/hypnotic-btree-video.html",
				"title": "Hypnotic B-tree video",
				"content_html": "<p>While preparing a database design presentation with a co-worker, I discovered this <a href=\"https://www.youtube.com/watch?v=coRJrcIYbF4\">hypnotic video</a> demonstrating inserts into a b-tree data structure.</p>\n<style>.embed-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; } .embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style>\n<div class='embed-container'><iframe src='https://www.youtube.com/embed/coRJrcIYbF4' frameborder='0' allowfullscreen></iframe></div>\n",
				"content_text": "While preparing a database design presentation with a co-worker, I discovered this [hypnotic video](https://www.youtube.com/watch?v=coRJrcIYbF4) demonstrating inserts into a b-tree data structure.\n\n{{< yt \"coRJrcIYbF4\" >}}\n",
				"date_published": "2009-09-29T18:00:00-05:00",
				"url": "https://beckysweger.com/2009/09/29/hypnotic-btree-video.html",
				"tags": ["stories","data"]
			},
			{
				"id": "http://bsweger.micro.blog/2009/03/12/lessons-from-the-jury-box.html",
				"title": "Lessons from the jury box",
				"content_html": "<p>Serving as an alternate juror is one of life’s more frustrating exercises. It’s all the inconvenience of attending the trial and none of the decision making. In terms of actual hours worked, however, it’s an easy job:  arrive at 9:30, start working at 10 or 10:30, take a two hour lunch, and leave by 4:30. This schedule leaves plenty of room for deep thoughts.</p>\n<p>Our judge instructed us not to take notes—we had to sit in the jury box without the aid of external mnemonic devices, which seemed like an impediment that could well lead to a travesty of justice.</p>\n<p>I found the opposite to be true, though. When was the last time you sat in a room without phones, newspapers, iPods, or conversations and just actively listened? It’s the freedom to find the truth by not only listening but by studying clues like body language, demeanor, and facial expressions, which you can’t do when your head is buried in a notebook. There’s a place for conversations, questions, and notes, but it’s during deliberations, when twelve people bring their individual observations to the jury room and render a verdict.</p>\n<p>Outside of the courtroom, we spend a lot of time and money to go places and do things, only to cheat ourselves by not paying attention.  It’s become more important to broadcast and perfectly capture our trips, conferences, and nights out than to live them. What contextual information do we miss when live-tweeting a keynote address?  How can we form mature, thoughtful, and independent judgments in a world of chatter and soundbytes? Information might be free, but knowledge and wisdom require a price, part of which is knowing when to listen.</p>\n",
				"content_text": "Serving as an alternate juror is one of life’s more frustrating exercises. It’s all the inconvenience of attending the trial and none of the decision making. In terms of actual hours worked, however, it’s an easy job:  arrive at 9:30, start working at 10 or 10:30, take a two hour lunch, and leave by 4:30. This schedule leaves plenty of room for deep thoughts.\n\nOur judge instructed us not to take notes—we had to sit in the jury box without the aid of external mnemonic devices, which seemed like an impediment that could well lead to a travesty of justice.\n\nI found the opposite to be true, though. When was the last time you sat in a room without phones, newspapers, iPods, or conversations and just actively listened? It’s the freedom to find the truth by not only listening but by studying clues like body language, demeanor, and facial expressions, which you can’t do when your head is buried in a notebook. There’s a place for conversations, questions, and notes, but it’s during deliberations, when twelve people bring their individual observations to the jury room and render a verdict.\n\nOutside of the courtroom, we spend a lot of time and money to go places and do things, only to cheat ourselves by not paying attention.  It’s become more important to broadcast and perfectly capture our trips, conferences, and nights out than to live them. What contextual information do we miss when live-tweeting a keynote address?  How can we form mature, thoughtful, and independent judgments in a world of chatter and soundbytes? Information might be free, but knowledge and wisdom require a price, part of which is knowing when to listen.\n",
				"date_published": "2009-03-12T19:00:00-05:00",
				"url": "https://beckysweger.com/2009/03/12/lessons-from-the-jury-box.html",
				"tags": ["stories"]
			},
			{
				"id": "http://bsweger.micro.blog/2009/02/05/sql-server-operand-type-clash.html",
				"title": "SQL Server operand type clash!",
				"content_html": "<p>Yesterday a fellow developer hit a strange SQL error and determined that the culprit was a T-SQL <code>CASE</code> statement used in his <code>ORDER BY</code> clause.</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"color:#66d9ef\">ORDER</span> <span style=\"color:#66d9ef\">BY</span>\n<span style=\"color:#66d9ef\">CASE</span>\n<span style=\"color:#66d9ef\">WHEN</span> <span style=\"color:#66d9ef\">UPPER</span>(<span style=\"color:#f92672\">@</span>orderBy)<span style=\"color:#f92672\">=</span><span style=\"color:#e6db74\">&#39;GROUPMESSAGEID&#39;</span> <span style=\"color:#66d9ef\">THEN</span> groupMessageID\n<span style=\"color:#66d9ef\">WHEN</span> <span style=\"color:#66d9ef\">UPPER</span>(<span style=\"color:#f92672\">@</span>orderBy)<span style=\"color:#f92672\">=</span><span style=\"color:#e6db74\">&#39;GAMEID&#39;</span> <span style=\"color:#66d9ef\">THEN</span> gameID\n<span style=\"color:#66d9ef\">WHEN</span> <span style=\"color:#66d9ef\">UPPER</span>(<span style=\"color:#f92672\">@</span>orderBy)<span style=\"color:#f92672\">=</span><span style=\"color:#e6db74\">&#39;GROUPID&#39;</span> <span style=\"color:#66d9ef\">THEN</span> groupID\n<span style=\"color:#66d9ef\">WHEN</span> <span style=\"color:#66d9ef\">UPPER</span>(<span style=\"color:#f92672\">@</span>orderBy)<span style=\"color:#f92672\">=</span><span style=\"color:#e6db74\">&#39;MESSAGEID&#39;</span> <span style=\"color:#66d9ef\">THEN</span> messageID\n<span style=\"color:#66d9ef\">WHEN</span> <span style=\"color:#66d9ef\">UPPER</span>(<span style=\"color:#f92672\">@</span>orderBy)<span style=\"color:#f92672\">=</span><span style=\"color:#e6db74\">&#39;ROUNDSENT&#39;</span> <span style=\"color:#66d9ef\">THEN</span> roundSent\n<span style=\"color:#66d9ef\">WHEN</span> <span style=\"color:#66d9ef\">UPPER</span>(<span style=\"color:#f92672\">@</span>orderBy)<span style=\"color:#f92672\">=</span><span style=\"color:#e6db74\">&#39;SENTON&#39;</span> <span style=\"color:#66d9ef\">THEN</span> sentOn\n<span style=\"color:#66d9ef\">ELSE</span> groupMessageID\n<span style=\"color:#66d9ef\">END</span>\n</code></pre></div><p>This code results in the following message:<br>\n<code>Operand type clash: uniqueidentifier is incompatible with datetime</code></p>\n<p>After some digging around, we found the underlying cause of the error:  the <code>CASE</code> statement return values have different data types.  In some cases, returning different data types will behave as expected.  However, mixing numeric and character data causes problems.</p>\n<p>In the statement above, gameId, groupID, roundSent, and groupMessageID are integers, sentOn is a datetime, and messageID is a uniqueidentifier.  Because the data type precedence pecking order in this case is datetime, int, and then uniqueidentifier, SQL choose datetime as the return type. Uniqueidentifiers cannot be converted to datetimes, hence the error message.</p>\n<p>It all became clear after reading <a href=\"https://blogs.lessthandot.com/index.php/datamgmt/dbprogramming/mssqlserver/sql-server-case-when-data-type-problems/\">this article by George Mastros</a>.  Thank you, George.</p>\n",
				"content_text": "Yesterday a fellow developer hit a strange SQL error and determined that the culprit was a T-SQL `CASE` statement used in his `ORDER BY` clause. \n\n```sql\nORDER BY\nCASE\nWHEN UPPER(@orderBy)='GROUPMESSAGEID' THEN groupMessageID\nWHEN UPPER(@orderBy)='GAMEID' THEN gameID\nWHEN UPPER(@orderBy)='GROUPID' THEN groupID\nWHEN UPPER(@orderBy)='MESSAGEID' THEN messageID\nWHEN UPPER(@orderBy)='ROUNDSENT' THEN roundSent\nWHEN UPPER(@orderBy)='SENTON' THEN sentOn\nELSE groupMessageID\nEND\n```\n\nThis code results in the following message:  \n`Operand type clash: uniqueidentifier is incompatible with datetime`\n\nAfter some digging around, we found the underlying cause of the error:  the `CASE` statement return values have different data types.  In some cases, returning different data types will behave as expected.  However, mixing numeric and character data causes problems.\n\nIn the statement above, gameId, groupID, roundSent, and groupMessageID are integers, sentOn is a datetime, and messageID is a uniqueidentifier.  Because the data type precedence pecking order in this case is datetime, int, and then uniqueidentifier, SQL choose datetime as the return type. Uniqueidentifiers cannot be converted to datetimes, hence the error message.\n\nIt all became clear after reading [this article by George Mastros](https://blogs.lessthandot.com/index.php/datamgmt/dbprogramming/mssqlserver/sql-server-case-when-data-type-problems/).  Thank you, George.\n",
				"date_published": "2009-02-05T19:00:00-05:00",
				"url": "https://beckysweger.com/2009/02/05/sql-server-operand-type-clash.html",
				"tags": ["tech","data"]
			},
			{
				"id": "http://bsweger.micro.blog/2008/06/18/httpservice-passing-xml-between-coldfusion.html",
				"title": "HTTPService - passing XML between ColdFusion and Flex",
				"content_html": "<p>We recently had some trouble with a Flex RemoteObject call. It kept throwing timeout errors on a method that invokes a CFHTTP call, even though we could invoke the same method from a ColdFusion page with no problems.</p>\n<p>After increasing the timeout parameters of both the CFHTTP statement and the RemoteObject definition to ridiculous amounts, we decided to use the mx:HTTPService function as an alternative.  Kind of annoying to have to add the extra layer, but it works.</p>\n<p>No doubt there is a perfectly logical explanation for the RO timeout, but we needed to get this proof of concept code working as quickly as possible.</p>\n<p><strong>The ColdFusion file</strong></p>\n<p>This invokes the method that contains the problematic CFHTTP call and returns the status info in an XML blurb.</p>\n<pre tabindex=\"0\"><code class=\"language-coldfusion\" data-lang=\"coldfusion\">&lt;cfsetting showdebugoutput=&quot;no&quot; /&gt;\n\n&lt;cfset structResult = StructNew() /&gt;\n&lt;cfset structResult.backtestId = url.backtestId /&gt;\n\n&lt;cffunction name=&quot;RunBacktest&quot; access=&quot;private&quot; output=&quot;false&quot; returntype=”struct” hint=”run a specified backtest”&gt;\n\n    &lt;cfinvoke component=&quot;TheProblemComponent&quot; etc /&gt;\n    …do some stuff…\n    &lt;cfreturn structResult /&gt;\n&lt;/cffunction&gt;\n\n&lt;cfset result = RunBacktest() /&gt;\n&lt;cfoutput&gt;\n&lt;cfxml variable=&quot;resultXML&quot;&gt;\n    &lt;runResult&gt;\n        &lt;backtestResult&gt;\n            &lt;backtestId&gt;#result.backtestId#&lt;/backtestId&gt;\n            &lt;returnCode&gt;#result.returnCode#&lt;/returnCode&gt;              \n            &lt;msg&gt;#result.msg#&lt;/msg&gt;\n\t\t&lt;/backtestResult&gt;\n\t&lt;/runResult&gt;\n&lt;/cfxml&gt;\n&lt;/cfoutput&gt;\n\n&lt;cfcontent reset =&quot;yes&quot; type=&quot;text/xml; charset=UTF-8&quot;&gt;     \n\n&lt;cfoutput&gt;#resultXML#&lt;/cfoutput&gt;\n</code></pre><p><strong>The Flex HTTPService definition from Services.mxml</strong></p>\n<pre tabindex=\"0\"><code class=\"language-flex\" data-lang=\"flex\">&lt;mx:HTTPService id=”runBacktest”\n   method=&quot;GET&quot;\n   resultFormat=&quot;e4x&quot;\n   result=&quot;resultTesty(event);&quot; &gt;\n   &lt;mx:request xmlns=&quot;&quot;&gt;\n     &lt;backtestId /&gt;\n&lt;/mx:request&gt;\n&lt;/mx:HTTPService&gt;\n</code></pre><p><strong>The result handler</strong></p>\n<p>Example of how to reference the XML coming back from CF, even though we ended up not needing to do this.</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-actionscript\" data-lang=\"actionscript\"><span style=\"color:#66d9ef\">private</span> <span style=\"color:#66d9ef\">function</span> <span style=\"color:#a6e22e\">resultTesty</span> (<span style=\"color:#a6e22e\">event</span><span style=\"color:#f92672\">:</span><span style=\"color:#a6e22e\">ResultEvent</span>)<span style=\"color:#f92672\">:</span><span style=\"color:#a6e22e\">void</span>\n{\n  <span style=\"color:#66d9ef\">var</span> <span style=\"color:#a6e22e\">backtestRunResult</span><span style=\"color:#f92672\">:</span>XML <span style=\"color:#f92672\">=</span> <span style=\"color:#66d9ef\">new</span> XML(<span style=\"color:#a6e22e\">event</span>.<span style=\"color:#a6e22e\">currentTarget</span>.<span style=\"color:#a6e22e\">lastResult</span>);\n  <span style=\"color:#a6e22e\">Alert</span>.<span style=\"color:#a6e22e\">show</span>(<span style=\"color:#a6e22e\">event</span>.<span style=\"color:#a6e22e\">currentTarget</span>.<span style=\"color:#a6e22e\">request</span>.<span style=\"color:#a6e22e\">backtestId</span>);\n  <span style=\"color:#66d9ef\">do</span> <span style=\"color:#a6e22e\">some</span> <span style=\"color:#a6e22e\">stuff</span><span style=\"color:#f92672\">;</span>\n}\n</code></pre></div><p><strong>Invoking the service call</strong></p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-actionscript\" data-lang=\"actionscript\"><span style=\"color:#66d9ef\">private</span> <span style=\"color:#66d9ef\">function</span> <span style=\"color:#a6e22e\">runBacktest</span>(<span style=\"color:#a6e22e\">backtestId</span><span style=\"color:#f92672\">:</span>Number)<span style=\"color:#f92672\">:</span><span style=\"color:#a6e22e\">void</span>\n{\n  <span style=\"color:#a6e22e\">Application</span>.<span style=\"color:#a6e22e\">application</span>.<span style=\"color:#a6e22e\">srv</span>.<span style=\"color:#a6e22e\">runBacktest</span>.<span style=\"color:#a6e22e\">url</span> <span style=\"color:#f92672\">=</span> <span style=\"color:#e6db74\">&#34;SuperSecret/RunBacktestFolder/RunBacktest.cfm&#34;</span><span style=\"color:#f92672\">;</span>\n  <span style=\"color:#a6e22e\">Application</span>.<span style=\"color:#a6e22e\">application</span>.<span style=\"color:#a6e22e\">srv</span>.<span style=\"color:#a6e22e\">runBacktest</span>.<span style=\"color:#a6e22e\">request</span>.<span style=\"color:#a6e22e\">backtestId</span> <span style=\"color:#f92672\">=</span> <span style=\"color:#a6e22e\">backtestId</span><span style=\"color:#f92672\">;</span>\n  <span style=\"color:#a6e22e\">Application</span>.<span style=\"color:#a6e22e\">application</span>.<span style=\"color:#a6e22e\">srv</span>.<span style=\"color:#a6e22e\">runBacktest</span>.<span style=\"color:#a6e22e\">send</span>();\n}\n</code></pre></div>",
				"content_text": "\nWe recently had some trouble with a Flex RemoteObject call. It kept throwing timeout errors on a method that invokes a CFHTTP call, even though we could invoke the same method from a ColdFusion page with no problems.\n\nAfter increasing the timeout parameters of both the CFHTTP statement and the RemoteObject definition to ridiculous amounts, we decided to use the mx:HTTPService function as an alternative.  Kind of annoying to have to add the extra layer, but it works.\n\nNo doubt there is a perfectly logical explanation for the RO timeout, but we needed to get this proof of concept code working as quickly as possible.\n\n**The ColdFusion file**\n\nThis invokes the method that contains the problematic CFHTTP call and returns the status info in an XML blurb.\n\n```coldfusion\n<cfsetting showdebugoutput=\"no\" />\n\n<cfset structResult = StructNew() />\n<cfset structResult.backtestId = url.backtestId />\n\n<cffunction name=\"RunBacktest\" access=\"private\" output=\"false\" returntype=”struct” hint=”run a specified backtest”>\n\n    <cfinvoke component=\"TheProblemComponent\" etc />\n    …do some stuff…\n    <cfreturn structResult />\n</cffunction>\n\n<cfset result = RunBacktest() />\n<cfoutput>\n<cfxml variable=\"resultXML\">\n    <runResult>\n        <backtestResult>\n            <backtestId>#result.backtestId#</backtestId>\n            <returnCode>#result.returnCode#</returnCode>              \n            <msg>#result.msg#</msg>\n\t\t</backtestResult>\n\t</runResult>\n</cfxml>\n</cfoutput>\n\n<cfcontent reset =\"yes\" type=\"text/xml; charset=UTF-8\">     \n\n<cfoutput>#resultXML#</cfoutput>\n```\n\n**The Flex HTTPService definition from Services.mxml**\n\n```flex\n<mx:HTTPService id=”runBacktest”\n   method=\"GET\"\n   resultFormat=\"e4x\"\n   result=\"resultTesty(event);\" >\n   <mx:request xmlns=\"\">\n     <backtestId />\n</mx:request>\n</mx:HTTPService>\n```\n\n**The result handler**\n\nExample of how to reference the XML coming back from CF, even though we ended up not needing to do this.\n\n```actionscript\nprivate function resultTesty (event:ResultEvent):void\n{\n  var backtestRunResult:XML = new XML(event.currentTarget.lastResult);\n  Alert.show(event.currentTarget.request.backtestId);\n  do some stuff;\n}\n```\n\n**Invoking the service call**\n\n```actionscript\nprivate function runBacktest(backtestId:Number):void\n{\n  Application.application.srv.runBacktest.url = \"SuperSecret/RunBacktestFolder/RunBacktest.cfm\";\n  Application.application.srv.runBacktest.request.backtestId = backtestId;\n  Application.application.srv.runBacktest.send();\n}\n```\n\n",
				"date_published": "2008-06-18T19:00:00-05:00",
				"url": "https://beckysweger.com/2008/06/18/httpservice-passing-xml-between-coldfusion.html",
				"tags": ["tech"]
			},
			{
				"id": "http://bsweger.micro.blog/2007/10/18/surrogate-keys-keep-em-meaningless.html",
				"title": "Surrogate keys - keep ’em meaningless",
				"content_html": "<p>At two recent code reviews, we’ve discussed the use of SQL Server auto-incrementing fields as primary keys. Using system-generated numbers to uniquely identify rows (<em>i.e.</em>, implementing <em>surrogate keys</em>) is a good practice* because it reduces the likelihood of errors introduced by bad data. However, these surrogate keys are meaningless and exist only for the purpose of identification.</p>\n<p>The problem is that many applications do not treat surrogate keys as meaningless numbers, a practice that reduces portability. Consider a lookup table that lists an application’s user roles. The most basic structure for such a table would be two columns: <code>role_id</code> and <code>role_name</code>:</p>\n<table>\n<thead>\n<tr>\n<th>role_id</th>\n<th>role_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>student</td>\n</tr>\n<tr>\n<td>2</td>\n<td>faculty</td>\n</tr>\n<tr>\n<td>3</td>\n<td>TA</td>\n</tr>\n<tr>\n<td>4</td>\n<td>admin</td>\n</tr>\n</tbody>\n</table>\n<p>Many applications would do the following to get a list of faculty users:</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"color:#66d9ef\">SELECT</span> user_name <span style=\"color:#66d9ef\">FROM</span> tblRole <span style=\"color:#66d9ef\">WHERE</span> rold_id <span style=\"color:#f92672\">=</span> <span style=\"color:#ae81ff\">2</span>\n</code></pre></div><p>However, there’s no guarantee that the faculty role will be assigned to the id of 2 in perpetuity. 2 doesn’t mean faculty, it just means 2. If you reload your data and port the application to another environment, the faculty role id might be 4 or 10 or 33,288.</p>\n<p>It’s safer to look up the <code>role_id</code> where <code>role_name</code> = ‘faculty’ and use that value instead of assuming 2. This method, of course, would create problems if the application users decide to change the name of the ‘faculty’ role to ‘instructor.’ A better solution is to create more descriptive lookup tables that support front-end changes while also maintaining meaningless surrogate keys:</p>\n<table>\n<thead>\n<tr>\n<th>role_id</th>\n<th>role_code</th>\n<th>role_name</th>\n<th>role_sort_order</th>\n<th>role_create_date</th>\n<th>role_update_date</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>s</td>\n<td>student</td>\n<td>3</td>\n<td>10/31/2007</td>\n<td></td>\n</tr>\n<tr>\n<td>2</td>\n<td>f</td>\n<td>faculty</td>\n<td>1</td>\n<td>10/31/2007</td>\n<td></td>\n</tr>\n<tr>\n<td>3</td>\n<td>t</td>\n<td>TA</td>\n<td>2</td>\n<td>10/31/2007</td>\n<td>11/03/2008</td>\n</tr>\n<tr>\n<td>4</td>\n<td>a</td>\n<td>admin</td>\n<td>4</td>\n<td>10/31/2007</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>This table structure allows you to get the faculty surrogate key by querying for <code>role_code</code> = ‘f’. The <code>role_name</code> field is what users see and can be modified without breaking the application. Finally, <code>role_sort_order</code> controls the front-end display order of these items and allows you to change the sort order without touching any code.</p>\n",
				"content_text": "At two recent code reviews, we’ve discussed the use of SQL Server auto-incrementing fields as primary keys. Using system-generated numbers to uniquely identify rows (_i.e._, implementing _surrogate keys_) is a good practice* because it reduces the likelihood of errors introduced by bad data. However, these surrogate keys are meaningless and exist only for the purpose of identification.\n\nThe problem is that many applications do not treat surrogate keys as meaningless numbers, a practice that reduces portability. Consider a lookup table that lists an application’s user roles. The most basic structure for such a table would be two columns: `role_id` and `role_name`:\n\n| role_id | role_name |\n| - | --------- |\n| 1       | student   |\n| 2       | faculty   |\n| 3       | TA        |\n| 4       | admin     |\n\nMany applications would do the following to get a list of faculty users:\n\n```sql\nSELECT user_name FROM tblRole WHERE rold_id = 2\n```\n\nHowever, there’s no guarantee that the faculty role will be assigned to the id of 2 in perpetuity. 2 doesn’t mean faculty, it just means 2. If you reload your data and port the application to another environment, the faculty role id might be 4 or 10 or 33,288.\n\nIt’s safer to look up the `role_id` where `role_name` = ‘faculty’ and use that value instead of assuming 2. This method, of course, would create problems if the application users decide to change the name of the ‘faculty’ role to ‘instructor.’ A better solution is to create more descriptive lookup tables that support front-end changes while also maintaining meaningless surrogate keys:\n\n| role_id | role_code | role_name | role_sort_order | role_create_date | role_update_date |\n| ------- | --------- | --------- | --------------- | ---------------- | ---------------- |\n| 1       | s         | student   | 3               | 10/31/2007       |                  |\n| 2       | f         | faculty   | 1               | 10/31/2007       |                  |\n| 3       | t         | TA        | 2               | 10/31/2007       | 11/03/2008       |\n| 4       | a         | admin     | 4               | 10/31/2007       |                  |\n\nThis table structure allows you to get the faculty surrogate key by querying for `role_code` = ‘f’. The `role_name` field is what users see and can be modified without breaking the application. Finally, `role_sort_order` controls the front-end display order of these items and allows you to change the sort order without touching any code.\n",
				"date_published": "2007-10-18T19:00:00-05:00",
				"url": "https://beckysweger.com/2007/10/18/surrogate-keys-keep-em-meaningless.html",
				"tags": ["tech","data"]
			},
			{
				"id": "http://bsweger.micro.blog/2007/04/02/using-eclipse-and-ant-for.html",
				"title": "Using Eclipse and Ant for Flex team development",
				"content_html": "<p>Recently the <a href=\"https://simulations.wharton.upenn.edu/\">Wharton Learning Lab</a> has been discussing ways to do team development as we transition to Flex 2 and the Eclipse IDE. We’re starting a project now that will involve four developers, so we’ll need to keep our own working copies of the project. Not an earth-shattering idea, but it’s new for us–we usually share a single code base during development.</p>\n<p>A colleague with the most Eclipse experience in the group suggested that <a href=\"https://ant.apache.org/\">Ant</a>, a java-based build tool, could be used to make the team development process smoother. Because Ant ships with Eclipse and because Adobe recently released custom <a href=\"https://flex.apache.org/flexunit/asdoc/anttasks/index.html\">Flex Ant tasks</a>, in theory it should be possible to create an Ant script that will mimic the default Flex build process and also perform extra tasks such as moving files around.</p>\n<p>In practice, however, it’s not easy to create such a script if you’re new to Flex 2, Eclipse, and Ant because the documentation is scattered between all three products (as well as some blogs). So I munged the available information into a single “how to.” The steps below show how to implement a very basic Ant build script that will copy Flex code from the “master” code base to your working area, compile it, and create the swf html wrappers.</p>\n<ol>\n<li>\n<p>If you’re using the stand-alone version of Flex Builder, follow these directions to set up the Ant environment: <a href=\"https://web.archive.org/web/20150207014026/http://www.peterelst.com/blog/2006/09/03/flex-builder-2-ant-support/\">http://www.peterelst.com/blog/2006/09/03/flex-builder-2-ant-support/</a>. Skip this step if you’re using the plug-in version of Flex Builder.</p>\n</li>\n<li>\n<p>Download the Flex Ant tasks from Adobe Labs and follow the installation instructions: <a href=\"https://web.archive.org/web/20150207014026/http://labs.adobe.com/wiki/index.php/Flex_Ant_Tasks\">http://labs.adobe.com/wiki/index.php/Flex_Ant_Tasks</a></p>\n</li>\n</ol>\n<p><strong>Note:</strong> The instructions say to copy the flexTasks.jar file to “Ant’s lib directory.” I put my files in the locations below, which seems to work fine:</p>\n<ul>\n<li>Stand-alone: C:Program FilesAdobeFlex Builder 2plugins</li>\n<li>Eclipse plug-in: C:Program FilesEclipsepluginsorg.apache.ant_1.6.5lib</li>\n</ul>\n<ol start=\"3\">\n<li>\n<p>Open your Eclipse Flex project and add a build file to it. An Ant build file is an XML document that contains a series of tasks called “targets.” A sample build file template is attached.</p>\n</li>\n<li>\n<p>Modify the build file template to work with your current project. The only things you should need to change are the properties (<em>i.e.</em>, variables) at the top of the file:</p>\n<ul>\n<li><code>FLEX_HOME</code>: points to the location of your Flex SDK. By default this location is C:\\Program Files\\AdobeFlex Builder 2\\Flex SDK 2 for the standalone version of Flex Builder and C:\\Program Files\\AdobeFlex Builder 2\\Plug-in\\Flex SDK 2 for the plug-in.</li>\n<li><code>DEPLOY_DIR</code>: the folder that will contain your Flex executables (<em>i.e.</em>, the swf and its corresponding html wrappers)</li>\n<li><code>MAIN_APP_ROOT</code>: the location of the project’s “master” code base</li>\n<li><code>WORKING_APP_ROOT</code>: the location of your working folder</li>\n</ul>\n</li>\n<li>\n<p>Open the Eclipse Ant window: <em>Window–&gt;Other Views</em> (select Ant from the <em>Show View</em> window).</p>\n</li>\n<li>\n<p>Once the Ant window is open in your Eclipse workspace, add your build file (see screenshot below):</p>\n<ul>\n<li>In the upper-right hand corner of the Ant window, click the <em>Add Buildfiles</em> button (<em>i.e</em>., the button with the picture of an ant).</li>\n<li>From the <em>Buildfile Selection</em> window, choose your build file and click OK.</li>\n<li>You should now see your build file displayed in the Ant window. You can expand the individual tasks (<em>i.e.</em>, targets).</li>\n<li>You should be able to execute the individual tasks in the script by double-clicking them. Output will appear on the console.</li>\n</ul>\n</li>\n</ol>\n<p>This is as far as I’ve gotten. I’ve been using the built-in Flex compiler when working in my sandbox and the Ant script to get the latest code updates from the main project folder.</p>\n<p>It seems like a lot of work just to copy files around, but once the initial setup is complete it’s a handy way to avoid manually pushing updates from SourceSafe and potentially overwriting changes. No doubt there’s much cooler things you can do with Ant–if anyone has any tricks, please share!</p>\n",
				"content_text": "Recently the [Wharton Learning Lab](https://simulations.wharton.upenn.edu/) has been discussing ways to do team development as we transition to Flex 2 and the Eclipse IDE. We’re starting a project now that will involve four developers, so we’ll need to keep our own working copies of the project. Not an earth-shattering idea, but it’s new for us–we usually share a single code base during development.\n\nA colleague with the most Eclipse experience in the group suggested that [Ant](https://ant.apache.org/), a java-based build tool, could be used to make the team development process smoother. Because Ant ships with Eclipse and because Adobe recently released custom [Flex Ant tasks](https://flex.apache.org/flexunit/asdoc/anttasks/index.html), in theory it should be possible to create an Ant script that will mimic the default Flex build process and also perform extra tasks such as moving files around.\n\nIn practice, however, it’s not easy to create such a script if you’re new to Flex 2, Eclipse, and Ant because the documentation is scattered between all three products (as well as some blogs). So I munged the available information into a single “how to.” The steps below show how to implement a very basic Ant build script that will copy Flex code from the “master” code base to your working area, compile it, and create the swf html wrappers.\n\n1. If you’re using the stand-alone version of Flex Builder, follow these directions to set up the Ant environment: [http://www.peterelst.com/blog/2006/09/03/flex-builder-2-ant-support/](https://web.archive.org/web/20150207014026/http://www.peterelst.com/blog/2006/09/03/flex-builder-2-ant-support/). Skip this step if you’re using the plug-in version of Flex Builder.\n\n2. Download the Flex Ant tasks from Adobe Labs and follow the installation instructions: [http://labs.adobe.com/wiki/index.php/Flex_Ant_Tasks](https://web.archive.org/web/20150207014026/http://labs.adobe.com/wiki/index.php/Flex_Ant_Tasks)  \n\n**Note:** The instructions say to copy the flexTasks.jar file to “Ant’s lib directory.” I put my files in the locations below, which seems to work fine:\n- Stand-alone: C:Program FilesAdobeFlex Builder 2plugins\n- Eclipse plug-in: C:Program FilesEclipsepluginsorg.apache.ant_1.6.5lib\n\n3. Open your Eclipse Flex project and add a build file to it. An Ant build file is an XML document that contains a series of tasks called “targets.” A sample build file template is attached.\n\n4. Modify the build file template to work with your current project. The only things you should need to change are the properties (*i.e.*, variables) at the top of the file:\n    - `FLEX_HOME`: points to the location of your Flex SDK. By default this location is C:\\Program Files\\AdobeFlex Builder 2\\Flex SDK 2 for the standalone version of Flex Builder and C:\\Program Files\\AdobeFlex Builder 2\\Plug-in\\Flex SDK 2 for the plug-in.\n    - `DEPLOY_DIR`: the folder that will contain your Flex executables (*i.e.*, the swf and its corresponding html wrappers)\n    - `MAIN_APP_ROOT`: the location of the project’s “master” code base\n    - `WORKING_APP_ROOT`: the location of your working folder\n\n5. Open the Eclipse Ant window: *Window–>Other Views* (select Ant from the *Show View* window).\n\n6. Once the Ant window is open in your Eclipse workspace, add your build file (see screenshot below):\n\t- In the upper-right hand corner of the Ant window, click the *Add Buildfiles* button (*i.e*., the button with the picture of an ant).\n\t- From the *Buildfile Selection* window, choose your build file and click OK.\n\t- You should now see your build file displayed in the Ant window. You can expand the individual tasks (*i.e.*, targets).\n\t- You should be able to execute the individual tasks in the script by double-clicking them. Output will appear on the console.\n\nThis is as far as I’ve gotten. I’ve been using the built-in Flex compiler when working in my sandbox and the Ant script to get the latest code updates from the main project folder. \n\nIt seems like a lot of work just to copy files around, but once the initial setup is complete it’s a handy way to avoid manually pushing updates from SourceSafe and potentially overwriting changes. No doubt there’s much cooler things you can do with Ant–if anyone has any tricks, please share!\n",
				"date_published": "2007-04-02T19:00:00-05:00",
				"url": "https://beckysweger.com/2007/04/02/using-eclipse-and-ant-for.html",
				"tags": ["tech"]
			},
			{
				"id": "http://bsweger.micro.blog/2007/02/05/dynamic-sql-exec-vs-spexecutesql.html",
				"title": "Dynamic SQL - exec vs. sp_executesql",
				"content_html": "<p>Dynamic SQL came up again at a recent code review.  If only for your own maintenance sanity, it’s worth eliminating dynamic SQL where possible, but there are times you can’t avoid it (for example, some implementations of the new SQL 2005 <code>PIVOT</code> function). If you must do the dynamic SQL thing, there are two ways to accomplish it:</p>\n<ul>\n<li>EXEC(@stringofsql)</li>\n<li>sp_executesql @stringofsql, @someparameters</li>\n</ul>\n<p>The first option is old school, but it still works. <code>sp_executesql</code>, however, is newer and allows you to use parameters in conjunction with the dymanically-built SQL string.</p>\n<p>Having the option to use parameters is a great improvement–if the parameters are the only part of the SQL command that changes, the optimizer can reuse the execution plan instead of generating a new one each time the code is run. See SQL Server Books Online for the exact <code>sp_executesql</code> syntax.</p>\n",
				"content_text": "Dynamic SQL came up again at a recent code review.  If only for your own maintenance sanity, it’s worth eliminating dynamic SQL where possible, but there are times you can’t avoid it (for example, some implementations of the new SQL 2005 `PIVOT` function). If you must do the dynamic SQL thing, there are two ways to accomplish it:\n\n- EXEC(@stringofsql)\n- sp_executesql @stringofsql, @someparameters\n\nThe first option is old school, but it still works. `sp_executesql`, however, is newer and allows you to use parameters in conjunction with the dymanically-built SQL string. \n\nHaving the option to use parameters is a great improvement–if the parameters are the only part of the SQL command that changes, the optimizer can reuse the execution plan instead of generating a new one each time the code is run. See SQL Server Books Online for the exact `sp_executesql` syntax.\n",
				"date_published": "2007-02-05T19:00:00-05:00",
				"url": "https://beckysweger.com/2007/02/05/dynamic-sql-exec-vs-spexecutesql.html",
				"tags": ["data"]
			},
			{
				"id": "http://bsweger.micro.blog/2006/01/12/sql-errorhandling-snafu.html",
				"title": "SQL error-handling snafu",
				"content_html": "<p>Recently I encountered a SQL Server error-handling trap that caused a transaction not to roll back as expected. The code was issuing two insert statements that were grouped into a single transaction:</p>\n<div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-tsql\" data-lang=\"tsql\"><span style=\"color:#66d9ef\">BEGIN</span> <span style=\"color:#66d9ef\">TRANSACTION</span> \n<span style=\"color:#66d9ef\">INSERT</span> <span style=\"color:#66d9ef\">INTO</span> dbo.Table1 (<span style=\"color:#f92672\">SOME</span> COLUMNS) \n<span style=\"color:#66d9ef\">VALUES</span> (<span style=\"color:#f92672\">SOME</span> <span style=\"color:#66d9ef\">VALUES</span>) \n\n<span style=\"color:#66d9ef\">SELECT</span> @error <span style=\"color:#f92672\">=</span> @@error, @rowcount <span style=\"color:#f92672\">=</span> @@rowcount \n\n<span style=\"color:#66d9ef\">IF</span> @error <span style=\"color:#f92672\">&lt;&gt;</span> <span style=\"color:#ae81ff\">0</span>\n<span style=\"color:#66d9ef\">BEGIN</span> <span style=\"color:#66d9ef\">ROLLBACK</span> <span style=\"color:#66d9ef\">TRANSACTION</span> <span style=\"color:#66d9ef\">RAISERROR</span>(<span style=\"color:#e6db74\">&#39;error on the first insert!&#39;</span>, <span style=\"color:#ae81ff\">16</span>, <span style=\"color:#ae81ff\">1</span>) <span style=\"color:#66d9ef\">RETURN</span> <span style=\"color:#66d9ef\">END</span>\n\n<span style=\"color:#f92672\">[</span>DO STUFF<span style=\"color:#f92672\">]</span>\n\n<span style=\"color:#66d9ef\">INSERT</span> <span style=\"color:#66d9ef\">INTO</span> dbo.Table2 (<span style=\"color:#f92672\">SOME</span> COLUMNS)\n<span style=\"color:#66d9ef\">VALUES</span> (<span style=\"color:#f92672\">SOME</span> <span style=\"color:#66d9ef\">VALUES</span>) \n\n<span style=\"color:#66d9ef\">SELECT</span> @error <span style=\"color:#f92672\">=</span> @@error, @rowcount <span style=\"color:#f92672\">=</span> @@rowcount \n<span style=\"color:#66d9ef\">IF</span> @error <span style=\"color:#f92672\">&lt;&gt;</span> <span style=\"color:#ae81ff\">0</span> <span style=\"color:#66d9ef\">BEGIN</span> <span style=\"color:#66d9ef\">ROLLBACK</span> <span style=\"color:#66d9ef\">TRANSACTION</span> <span style=\"color:#66d9ef\">RAISERROR</span>(<span style=\"color:#e6db74\">&#39;error on the second insert!&#39;</span>, <span style=\"color:#ae81ff\">16</span>, <span style=\"color:#ae81ff\">1</span>) <span style=\"color:#66d9ef\">RETURN</span> <span style=\"color:#66d9ef\">END</span> \n\n<span style=\"color:#66d9ef\">COMMIT</span> <span style=\"color:#66d9ef\">TRANSACTION</span>\n</code></pre></div><p>The above error-handling works most of the time. However, if there&rsquo;s a run-time T-SQL error (for example, a missing object or a divide by 0 error), the offending statement fails but the rest of the transaction executes. In my case, the second insert failed because Table2 had been renamed. The subsequent @error check was never invoked, so the first insert wasn’t rolled back.</p>\n<p>This behavior can be overridden by setting <code>SET XACT_ABORT</code> to ON, which specifies that the current transaction will automatically roll back in the event of a T-SQL run-time error.</p>\n",
				"content_text": "Recently I encountered a SQL Server error-handling trap that caused a transaction not to roll back as expected. The code was issuing two insert statements that were grouped into a single transaction: \n\n```tsql\nBEGIN TRANSACTION \nINSERT INTO dbo.Table1 (SOME COLUMNS) \nVALUES (SOME VALUES) \n\nSELECT @error = @@error, @rowcount = @@rowcount \n\nIF @error <> 0\nBEGIN ROLLBACK TRANSACTION RAISERROR('error on the first insert!', 16, 1) RETURN END\n\n[DO STUFF]\n\nINSERT INTO dbo.Table2 (SOME COLUMNS)\nVALUES (SOME VALUES) \n\nSELECT @error = @@error, @rowcount = @@rowcount \nIF @error <> 0 BEGIN ROLLBACK TRANSACTION RAISERROR('error on the second insert!', 16, 1) RETURN END \n\nCOMMIT TRANSACTION\n```\n\nThe above error-handling works most of the time. However, if there's a run-time T-SQL error (for example, a missing object or a divide by 0 error), the offending statement fails but the rest of the transaction executes. In my case, the second insert failed because Table2 had been renamed. The subsequent @error check was never invoked, so the first insert wasn’t rolled back.\n\nThis behavior can be overridden by setting `SET XACT_ABORT` to ON, which specifies that the current transaction will automatically roll back in the event of a T-SQL run-time error.\n",
				"date_published": "2006-01-12T19:00:00-05:00",
				"url": "https://beckysweger.com/2006/01/12/sql-errorhandling-snafu.html",
				"tags": ["tech","til","data"]
			}
	]
}
